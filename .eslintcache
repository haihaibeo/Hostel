[{"E:\\Repos\\hostel-chakra\\Hostel\\src\\index.tsx":"1","E:\\Repos\\hostel-chakra\\Hostel\\src\\reportWebVitals.ts":"2","E:\\Repos\\hostel-chakra\\Hostel\\src\\serviceWorker.ts":"3","E:\\Repos\\hostel-chakra\\Hostel\\src\\App.tsx":"4","E:\\Repos\\hostel-chakra\\Hostel\\src\\Pages\\SingleRoom.tsx":"5","E:\\Repos\\hostel-chakra\\Hostel\\src\\Pages\\ErrorPage.tsx":"6","E:\\Repos\\hostel-chakra\\Hostel\\src\\ColorModeSwitcher.tsx":"7","E:\\Repos\\hostel-chakra\\Hostel\\src\\Logo.tsx":"8","E:\\Repos\\hostel-chakra\\Hostel\\src\\Pages\\HomePage.tsx":"9","E:\\Repos\\hostel-chakra\\Hostel\\src\\Pages\\RoomsPage.tsx":"10","E:\\Repos\\hostel-chakra\\Hostel\\src\\Components\\HomeComponents\\PropertyTypeList.tsx":"11","E:\\Repos\\hostel-chakra\\Hostel\\src\\Components\\NavComponents\\SearchBar.tsx":"12","E:\\Repos\\hostel-chakra\\Hostel\\src\\Components\\NavComponents\\Navbar.tsx":"13","E:\\Repos\\hostel-chakra\\Hostel\\src\\Components\\FilterComponents\\RoomCardList.tsx":"14","E:\\Repos\\hostel-chakra\\Hostel\\src\\Components\\NavComponents\\PickRangeDay.tsx":"15","E:\\Repos\\hostel-chakra\\Hostel\\src\\Components\\NavComponents\\PopDetail.tsx":"16","E:\\Repos\\hostel-chakra\\Hostel\\src\\Components\\FilterComponents\\RoomCard.tsx":"17","E:\\Repos\\hostel-chakra\\Hostel\\src\\Components\\NavComponents\\Footer.tsx":"18","E:\\Repos\\hostel-chakra\\Hostel\\src\\Components\\SingleRoomComponents\\MyRoomBadge.tsx":"19","e:\\Repos\\hostel-chakra\\Hostel\\src\\index.tsx":"20","e:\\Repos\\hostel-chakra\\Hostel\\src\\reportWebVitals.ts":"21","e:\\Repos\\hostel-chakra\\Hostel\\src\\serviceWorker.ts":"22","e:\\Repos\\hostel-chakra\\Hostel\\src\\App.tsx":"23","e:\\Repos\\hostel-chakra\\Hostel\\src\\Pages\\HomePage.tsx":"24","e:\\Repos\\hostel-chakra\\Hostel\\src\\Pages\\SingleRoom.tsx":"25","e:\\Repos\\hostel-chakra\\Hostel\\src\\Pages\\RoomsPage.tsx":"26","e:\\Repos\\hostel-chakra\\Hostel\\src\\Pages\\ErrorPage.tsx":"27","e:\\Repos\\hostel-chakra\\Hostel\\src\\Components\\NavComponents\\Footer.tsx":"28","e:\\Repos\\hostel-chakra\\Hostel\\src\\Components\\NavComponents\\SearchBar.tsx":"29","e:\\Repos\\hostel-chakra\\Hostel\\src\\Components\\NavComponents\\PickRangeDay.tsx":"30","e:\\Repos\\hostel-chakra\\Hostel\\src\\Components\\NavComponents\\Navbar.tsx":"31","e:\\Repos\\hostel-chakra\\Hostel\\src\\Components\\NavComponents\\PopDetail.tsx":"32","e:\\Repos\\hostel-chakra\\Hostel\\src\\Components\\HomeComponents\\PropertyTypeList.tsx":"33","e:\\Repos\\hostel-chakra\\Hostel\\src\\Components\\SingleRoomComponents\\MyRoomBadge.tsx":"34","e:\\Repos\\hostel-chakra\\Hostel\\src\\Components\\FilterComponents\\RoomCardList.tsx":"35","e:\\Repos\\hostel-chakra\\Hostel\\src\\Logo.tsx":"36","e:\\Repos\\hostel-chakra\\Hostel\\src\\ColorModeSwitcher.tsx":"37","e:\\Repos\\hostel-chakra\\Hostel\\src\\Components\\FilterComponents\\RoomCard.tsx":"38","E:\\Repos\\hostel-chakra\\Hostel\\src\\Components\\RegisterButton.tsx":"39","E:\\Repos\\hostel-chakra\\Hostel\\src\\Components\\RegisterForm.tsx":"40","E:\\Repos\\hostel-chakra\\Hostel\\src\\Contexts\\AuthContext.tsx":"41","E:\\Repos\\hostel-chakra\\Hostel\\src\\Components\\LoginForm.tsx":"42","E:\\Repos\\hostel-chakra\\Hostel\\src\\Pages\\ProfilePage.tsx":"43","E:\\Repos\\hostel-chakra\\Hostel\\src\\Pages\\PublishRoomPage.tsx":"44","E:\\Repos\\hostel-chakra\\Hostel\\src\\API.ts":"45","E:\\Repos\\hostel-chakra\\Hostel\\src\\Pages\\PreviewRoomPage.tsx":"46","E:\\Repos\\hostel-chakra\\Hostel\\src\\Pages\\RegisterHostPage.tsx":"47","E:\\Repos\\hostel-chakra\\Hostel\\src\\Components\\ReservationForm.tsx":"48"},{"size":345,"mtime":1617925710355,"results":"49","hashOfConfig":"50"},{"size":431,"mtime":1612286281167,"results":"51","hashOfConfig":"50"},{"size":5404,"mtime":1612286281167,"results":"52","hashOfConfig":"50"},{"size":6164,"mtime":1621265210688,"results":"53","hashOfConfig":"50"},{"size":10728,"mtime":1621263858874,"results":"54","hashOfConfig":"50"},{"size":1605,"mtime":1620688917447,"results":"55","hashOfConfig":"50"},{"size":773,"mtime":1612286281164,"results":"56","hashOfConfig":"50"},{"size":614,"mtime":1612286281165,"results":"57","hashOfConfig":"50"},{"size":1892,"mtime":1620780799066,"results":"58","hashOfConfig":"50"},{"size":4633,"mtime":1620940588605,"results":"59","hashOfConfig":"50"},{"size":3203,"mtime":1620941418807,"results":"60","hashOfConfig":"50"},{"size":5634,"mtime":1621366442710,"results":"61","hashOfConfig":"50"},{"size":6124,"mtime":1621265210731,"results":"62","hashOfConfig":"50"},{"size":1841,"mtime":1619133768837,"results":"63","hashOfConfig":"50"},{"size":6967,"mtime":1620924171046,"results":"64","hashOfConfig":"50"},{"size":2254,"mtime":1620665435373,"results":"65","hashOfConfig":"50"},{"size":3687,"mtime":1620864781513,"results":"66","hashOfConfig":"50"},{"size":749,"mtime":1618864238639,"results":"67","hashOfConfig":"50"},{"size":1847,"mtime":1613599095669,"results":"68","hashOfConfig":"50"},{"size":862,"mtime":1612286281166,"results":"69","hashOfConfig":"70"},{"size":431,"mtime":1612286281167,"results":"71","hashOfConfig":"70"},{"size":5404,"mtime":1612286281167,"results":"72","hashOfConfig":"70"},{"size":1405,"mtime":1613435563432,"results":"73","hashOfConfig":"70"},{"size":1187,"mtime":1613423994602,"results":"74","hashOfConfig":"70"},{"size":11934,"mtime":1613608974661,"results":"75","hashOfConfig":"70"},{"size":826,"mtime":1613605467202,"results":"76","hashOfConfig":"70"},{"size":173,"mtime":1612286281165,"results":"77","hashOfConfig":"70"},{"size":690,"mtime":1613435526288,"results":"78","hashOfConfig":"70"},{"size":3214,"mtime":1613608551630,"results":"79","hashOfConfig":"70"},{"size":3977,"mtime":1613608465743,"results":"80","hashOfConfig":"70"},{"size":1768,"mtime":1613606848363,"results":"81","hashOfConfig":"70"},{"size":3126,"mtime":1613423216595,"results":"82","hashOfConfig":"70"},{"size":1475,"mtime":1613423216593,"results":"83","hashOfConfig":"70"},{"size":1847,"mtime":1613599095669,"results":"84","hashOfConfig":"70"},{"size":1318,"mtime":1613606682010,"results":"85","hashOfConfig":"70"},{"size":614,"mtime":1612286281165,"results":"86","hashOfConfig":"70"},{"size":773,"mtime":1612286281164,"results":"87","hashOfConfig":"70"},{"size":3020,"mtime":1613608660633,"results":"88","hashOfConfig":"70"},{"size":997,"mtime":1616100395255,"results":"89","hashOfConfig":"50"},{"size":6298,"mtime":1616103124415,"results":"90","hashOfConfig":"50"},{"size":5478,"mtime":1620941753079,"results":"91","hashOfConfig":"50"},{"size":5901,"mtime":1620396689978,"results":"92","hashOfConfig":"50"},{"size":9846,"mtime":1621264303949,"results":"93","hashOfConfig":"50"},{"size":19677,"mtime":1621366444142,"results":"94","hashOfConfig":"50"},{"size":5261,"mtime":1621263838250,"results":"95","hashOfConfig":"50"},{"size":553,"mtime":1619174350149,"results":"96","hashOfConfig":"50"},{"size":2209,"mtime":1620688353319,"results":"97","hashOfConfig":"50"},{"size":9235,"mtime":1621263983349,"results":"98","hashOfConfig":"50"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"101"},"13hiuhw",{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"109","usedDeprecatedRules":"101"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":13,"fixableErrorCount":0,"fixableWarningCount":0,"source":"112","usedDeprecatedRules":"101"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"115","usedDeprecatedRules":"101"},{"filePath":"116","messages":"117","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"101"},{"filePath":"118","messages":"119","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"101"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"101"},{"filePath":"122","messages":"123","errorCount":0,"warningCount":16,"fixableErrorCount":0,"fixableWarningCount":0,"source":"124","usedDeprecatedRules":"101"},{"filePath":"125","messages":"126","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"127","usedDeprecatedRules":"101"},{"filePath":"128","messages":"129","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"130","usedDeprecatedRules":"101"},{"filePath":"131","messages":"132","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"133","usedDeprecatedRules":"101"},{"filePath":"134","messages":"135","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"136","usedDeprecatedRules":"101"},{"filePath":"137","messages":"138","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"139","usedDeprecatedRules":"101"},{"filePath":"140","messages":"141","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"142","usedDeprecatedRules":"143"},{"filePath":"144","messages":"145","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"146","usedDeprecatedRules":"101"},{"filePath":"147","messages":"148","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"101"},{"filePath":"149","messages":"150","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"151","usedDeprecatedRules":"101"},{"filePath":"152","messages":"153","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"99iabf",{"filePath":"154","messages":"155","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"156","messages":"157","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"158","messages":"159","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"160","messages":"161","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"162","messages":"163","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"164","messages":"165","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"166","messages":"167","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"168","messages":"169","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"170","messages":"171","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"172","messages":"173","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"174","messages":"175","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"176","messages":"177","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"178","messages":"179","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"180","messages":"181","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"182","messages":"183","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"184","messages":"185","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"186","messages":"187","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"188","messages":"189","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"190","messages":"191","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"192"},{"filePath":"193","messages":"194","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"195","usedDeprecatedRules":"192"},{"filePath":"196","messages":"197","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"198","usedDeprecatedRules":"101"},{"filePath":"199","messages":"200","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"201","usedDeprecatedRules":"101"},{"filePath":"202","messages":"203","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"204","usedDeprecatedRules":"101"},{"filePath":"205","messages":"206","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"207","usedDeprecatedRules":"101"},{"filePath":"208","messages":"209","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"210","usedDeprecatedRules":"101"},{"filePath":"211","messages":"212","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"101"},{"filePath":"213","messages":"214","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"101"},{"filePath":"215","messages":"216","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"101"},"E:\\Repos\\hostel-chakra\\Hostel\\src\\index.tsx",[],["217","218"],"E:\\Repos\\hostel-chakra\\Hostel\\src\\reportWebVitals.ts",[],["219","220"],"E:\\Repos\\hostel-chakra\\Hostel\\src\\serviceWorker.ts",[],"E:\\Repos\\hostel-chakra\\Hostel\\src\\App.tsx",["221","222","223"],"import * as React from \"react\"\r\nimport {\r\n  ChakraProvider,\r\n  Box,\r\n  extendTheme,\r\n} from \"@chakra-ui/react\"\r\nimport { HashRouter, Route, Switch, BrowserRouter, Redirect, RouteProps, useLocation, useHistory } from 'react-router-dom'\r\nimport HomePage from \"./Pages/HomePage\";\r\nimport SingleRoom from \"./Pages/SingleRoom\";\r\nimport ErrorPage from \"./Pages/ErrorPage\";\r\nimport RoomsPage from \"./Pages/RoomsPage\";\r\nimport \"./App.css\";\r\nimport { mode } from \"@chakra-ui/theme-tools\";\r\nimport \"slick-carousel/slick/slick.css\";\r\nimport \"slick-carousel/slick/slick-theme.css\";\r\nimport Footer from \"./Components/NavComponents/Footer\";\r\nimport { QueryClient, QueryClientProvider } from \"react-query\";\r\nimport { AuthContext, AuthProvider } from \"./Contexts/AuthContext\";\r\nimport ProfilePage from \"./Pages/ProfilePage\";\r\nimport Navbar from \"./Components/NavComponents/Navbar\";\r\nimport PublishRoomPage from \"./Pages/PublishRoomPage\";\r\nimport LoginForm from \"./Components/LoginForm\";\r\nimport LoadingBar from \"react-top-loading-bar\";\r\nimport PreviewRoomPage from \"./Pages/PreviewRoomPage\";\r\nimport RegisterHostPage from \"./Pages/RegisterHostPage\";\r\nimport { axAuth } from \"./API\";\r\n// theme.components.Button.baseStyle.borderRadius = \"0\";\r\n\r\nconst myTheme = extendTheme({\r\n  components: {\r\n    Button: {\r\n      defaultProps: {\r\n      }\r\n    },\r\n  }\r\n})\r\n\r\nconst queryClient = new QueryClient({\r\n  defaultOptions: {\r\n    queries: {\r\n\r\n    }\r\n  }\r\n});\r\n\r\n\r\nexport const App = () => {\r\n  const loadingRef = React.useRef<any>(null);\r\n  // loading bar will appear when a request is sended\r\n  // and disappear when get a response\r\n  // REMINDER: this is a fastest way to indicate top loading bar,\r\n  // but not in a very elegant way, should put it in a context and update manually in component\r\n  React.useEffect(() => {\r\n    loadingRef.current.complete();\r\n\r\n    axAuth.interceptors.request.use((config) => {\r\n      loadingRef.current.staticStart();\r\n      return config;\r\n    }, (e) => {\r\n      loadingRef.current.complete();\r\n      return Promise.reject(e);\r\n    })\r\n\r\n    axAuth.interceptors.response.use((config) => {\r\n      loadingRef.current.complete();\r\n      return config;\r\n    }, (e) => {\r\n      loadingRef.current.complete();\r\n      return Promise.reject(e);\r\n    })\r\n\r\n  }, [])\r\n  return (\r\n    <HashRouter basename=\"/\">\r\n      <ChakraProvider theme={myTheme}>\r\n        <QueryClientProvider client={queryClient}>\r\n          <Box d=\"flex\" flexDir=\"column\" minH=\"100vh\">\r\n            <AuthProvider>\r\n              <ScrollToTop />\r\n              <Box flex=\"1\">\r\n                <LoadingBar color=\"#f11946\" ref={loadingRef}></LoadingBar>\r\n                <Switch>\r\n                  <Route exact path=\"/\" >\r\n                    <HomePage />\r\n                  </Route>\r\n\r\n                  <Route component={LoginPage} exact path=\"/login\"\r\n                    render={({ location }) =>\r\n                      <Redirect to={{ pathname: \"/login\", state: { from: location } }} />\r\n                    }\r\n                  />\r\n                  <Box mx=\"10%\" mt=\"5\">\r\n                    <Navbar></Navbar>\r\n                    <Switch>\r\n                      <Route exact path=\"/rooms/:slug\" component={SingleRoom} />\r\n                      <Route exact path=\"/rooms\" component={RoomsPage} />\r\n                      <Route exact path=\"/room/preview\" component={PreviewRoomPage} />\r\n                      <AuthRoute exact path=\"/profile\" component={ProfilePage}></AuthRoute>\r\n                      <RoleRoute roles={[\"Owner\"]} exact path=\"/user/publish\" component={PublishRoomPage}></RoleRoute>roles={[\"Owner\"]}\r\n                      <AuthRoute exact path=\"/user/register-host\" component={RegisterHostPage}></AuthRoute>\r\n                      <RoleRoute roles={[\"Admin\"]} exact path=\"/admin\"></RoleRoute>\r\n                      <Route component={ErrorPage} />\r\n                    </Switch>\r\n                  </Box>\r\n                </Switch>\r\n              </Box>\r\n            </AuthProvider>\r\n            <Box h=\"200px\"></Box>\r\n            {/* <Box position=\"relative\" left={0} bottom={0}> */}\r\n            <Footer as=\"footer\" />\r\n            {/* </Box> */}\r\n          </Box>\r\n\r\n        </QueryClientProvider>\r\n      </ChakraProvider>\r\n    </HashRouter>\r\n  )\r\n};\r\n\r\ninterface LocationState {\r\n  from: {\r\n    pathname: string;\r\n  };\r\n}\r\n\r\nconst LoginPage = () => {\r\n  const location = useLocation<LocationState>();\r\n  const auth = React.useContext(AuthContext);\r\n\r\n  let { from } = location.state || { from: { pathname: \"/\" } };\r\n  if (auth.user) return <Redirect to={from}></Redirect>\r\n\r\n  return (\r\n    <Box mx=\"20%\" mt=\"10\" flex=\"0\">\r\n      <Navbar />\r\n      <LoginForm isRegistering={false}></LoginForm>\r\n    </Box>\r\n  );\r\n}\r\n\r\nconst AuthRoute: React.FC<RouteProps> = ({ children, ...rest }) => {\r\n  let auth = React.useContext(AuthContext);\r\n  if (auth.user) return (<Route {...rest}>{children}</Route>)\r\n\r\n  else return (<Route {...rest}>\r\n    <Redirect to={{\r\n      pathname: \"/login\",\r\n      state: {\r\n        from: rest.path\r\n      }\r\n    }} />\r\n  </Route>)\r\n}\r\n\r\ntype RoleRouteProps = {\r\n  roles: AppRole[];\r\n}\r\n\r\nconst RoleRoute = (props: RoleRouteProps & RouteProps) => {\r\n  const { roles, children, ...rest } = props;\r\n  const auth = React.useContext(AuthContext);\r\n\r\n  if (!auth.user) return (<Route {...rest}>\r\n    <Redirect to={{\r\n      pathname: \"/login\",\r\n      state: {\r\n        from: rest.path\r\n      }\r\n    }} />\r\n  </Route>)\r\n\r\n  const ifContainsAll = (haystack?: string[] | string, needles?: string[]) => {\r\n    if (!haystack) return false;\r\n    if (!needles) return true;\r\n\r\n    for (const n of needles) {\r\n      if (!haystack.includes(n)) return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  if (ifContainsAll(auth.user?.roles, roles)) return (<Route {...rest}>{children}</Route>)\r\n  else return (\r\n    <Route {...rest}>\r\n      <Redirect to={{\r\n        pathname: \"/error\",\r\n        state: {\r\n          message: \"You are not authorized\"\r\n        }\r\n      }}></Redirect>\r\n    </Route>\r\n  )\r\n}\r\n\r\nconst ScrollToTop = () => {\r\n  const { pathname } = useLocation();\r\n  React.useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, [pathname])\r\n\r\n  return null;\r\n}\r\n","E:\\Repos\\hostel-chakra\\Hostel\\src\\Pages\\SingleRoom.tsx",["224","225","226","227","228","229","230","231","232","233","234","235","236"],"import { Box, Button, Divider, Grid, GridItem, Spacer, Image, Popover, PopoverContent, PopoverTrigger, HStack, Flex, VStack, Avatar, useToast, useDisclosure, Collapse, Tooltip, Spinner } from '@chakra-ui/react';\r\nimport React from 'react'\r\nimport { BsStarFill, BsStar, BsHeart, BsHeartFill } from 'react-icons/bs';\r\nimport { useMutation, useQuery } from 'react-query';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport { fetchPricing, fetchPropertyById, toggleLike } from '../API';\r\nimport PickRangeDay, { getDatesBetween } from '../Components/NavComponents/PickRangeDay';\r\nimport PopDetail from '../Components/NavComponents/PopDetail';\r\nimport FloatingForm from '../Components/ReservationForm';\r\nimport MyRoomBadge, { defaultRoomBadges } from '../Components/SingleRoomComponents/MyRoomBadge';\r\nimport { AuthContext } from '../Contexts/AuthContext';\r\n\r\ntype SlugProps = {\r\n    slug: string;\r\n}\r\n\r\ntype SingleRoomProps = {\r\n    initRoom: Room;\r\n}\r\n\r\ntype OwnerInfo = {\r\n    id: string;\r\n    name: string;\r\n    profileImageUrl?: string;\r\n}\r\n\r\nconst SingleRoom: React.FC<SingleRoomProps> = ({ initRoom, children }) => {\r\n    const auth = React.useContext(AuthContext);\r\n\r\n    const [room, setRoom] = React.useState(defaultRoom);\r\n    const [bookInfo, setBookInfo] = React.useState<BookingInfo>({ guest: 0, children: 0 });\r\n    const [owner, setOwner] = React.useState<OwnerInfo>();\r\n    const [didLike, setDidLike] = React.useState(false);\r\n\r\n    const { slug } = useParams<SlugProps>();\r\n    const toast = useToast();\r\n\r\n    const { data, isError, error, isLoading } = useQuery([\"property\", slug],\r\n        () => {\r\n            return fetchPropertyById(slug);\r\n        },\r\n        {\r\n            // staleTime: 1000 * 60 * 3,\r\n            retry: 2,\r\n            onError: (error) => {\r\n                console.log(error);\r\n            },\r\n            onSuccess: (rs) => {\r\n                if (rs.data.liked) setDidLike(rs.data.liked);\r\n                setRoom({ ...rs.data, roomBadges: badges });\r\n                setBookInfo(bi => ({ ...bi, roomId: rs.data.id }))\r\n            },\r\n            onSettled: () => {\r\n            }\r\n        });\r\n\r\n    const mutateLike = useMutation(toggleLike, {\r\n        onSuccess: (res) => {\r\n            setDidLike(res.data.liked);\r\n            toast({\r\n                description: res.data.liked ? \"Saved room\" : \"Removed from wishlist\",\r\n                status: \"info\",\r\n                duration: 1000\r\n            });\r\n        },\r\n        onError: (error) => console.log(error)\r\n    })\r\n\r\n    React.useEffect(() => {\r\n        setOwner(defaultOwner);\r\n    }, [])\r\n\r\n    const updateDate = (from?: Date, to?: Date) => {\r\n        setBookInfo(s => ({\r\n            ...s,\r\n            bookFromDate: from,\r\n            bookToDate: to\r\n        }));\r\n    }\r\n\r\n    const updatePeople = (adult: number, children: number) => {\r\n        setBookInfo((s) => ({\r\n            ...s,\r\n            guest: adult,\r\n            children: children,\r\n        }));\r\n    }\r\n\r\n    const handleLike = () => {\r\n        if (!auth.user) {\r\n            toast({\r\n                description: \"Login is required\",\r\n                status: \"info\",\r\n                duration: 1000\r\n            });\r\n            return;\r\n        }\r\n        mutateLike.mutate({ roomId: room.id, token: auth.user.token })\r\n    }\r\n\r\n    // if (isError) {\r\n    //     return <Box>{\"Something 's wrong\"}</Box>\r\n    // }\r\n\r\n    if (data) return (\r\n        <Box>\r\n            <Divider my=\"5\" />\r\n            {/* title */}\r\n            <Box as=\"h2\" fontSize=\"3xl\" fontWeight=\"semibold\">{room.name}</Box>\r\n\r\n            {/* rating, location, like button */}\r\n            <Box d=\"flex\" mt=\"1\" flexDir={{ base: \"column\", sm: \"row\" }}>\r\n                <Box d=\"flex\" alignItems=\"start\">\r\n                    <Box d=\"flex\" flexDir={{ base: \"column\", sm: \"row\" }}>\r\n                        <Box d=\"flex\" flexDir={{ base: \"row\" }}>\r\n                            {Array(5).fill(\"\").map((_, i) => {\r\n                                return (i < Math.round(room.totalStar / room.totalReview) ? <BsStarFill key={i} colorRendering=\"teal.400\" /> : <BsStar key={i} />)\r\n                            })}\r\n                        </Box>\r\n                        <Box as=\"span\" ml=\"2\" color=\"gray.500\">{room.totalReview} reviews</Box>\r\n                    </Box>\r\n                    <Spacer />\r\n                    <Link to=\"/\">\r\n                        <Button variant=\"link\">\r\n                            <Box mx=\"4\">&bull;</Box>\r\n                            {room.location}\r\n                        </Button>\r\n                    </Link>\r\n                </Box>\r\n\r\n                <Spacer />\r\n\r\n                <Button alignSelf=\"start\" variant=\"ghost\" size=\"sm\"\r\n                    onClick={() => handleLike()}\r\n                    leftIcon={(!didLike || !auth.user) ? <BsHeart /> : <BsHeartFill color=\"red\" />}>Like</Button>\r\n            </Box>\r\n\r\n            {/* image display */}\r\n            <Box borderRadius=\"lg\" overflow=\"hidden\" mt=\"4\">\r\n                <Grid gap=\"2\" h=\"40%\" maxH=\"450px\" objectFit=\"cover\"\r\n                    templateRows=\"repeat(2, 1fr)\"\r\n                    templateColumns=\"repeat(4, 1fr)\">\r\n                    {room.images.slice(0, 5).map((image, i) => {\r\n                        return (\r\n                            <GridItem key={i} colSpan={i === 0 ? 2 : 1} rowSpan={i === 0 ? 2 : 1} overflow=\"hidden\" >\r\n                                <Image src={image.url} h=\"auto\" height=\"100%\" w=\"100%\" objectFit=\"cover\" loading=\"lazy\"></Image>\r\n                            </GridItem>\r\n                        )\r\n                    })}\r\n                </Grid>\r\n            </Box>\r\n\r\n            {/* info  */}\r\n            <Box mt=\"4\" d={[\"flex\", \"flex\", \"flex\", \"block\"]} flexDir=\"column-reverse\">\r\n                {/* floating form */}\r\n                <Box w={[\"100%\", \"100%\", \"100%\", \"35%\"]} boxShadow=\"2xl\" mt={{ base: \"4\", lg: \"0\" }} top=\"30%\" float={{ lg: \"right\" }} position={{ lg: \"sticky\" }}\r\n                    borderRadius=\"lg\"\r\n                    display=\"inline-flex\" flexDir=\"column\" zIndex={1} borderWidth=\"thin\"\r\n                    p=\"4\" alignContent=\"center\" justifyContent=\"center\">\r\n                    <FloatingForm room={room} bookInfo={bookInfo} updateDate={updateDate} updatePeople={updatePeople} />\r\n                </Box>\r\n                {/* Detail information about this room */}\r\n                <Box height=\"1000px\" w={[\"100%\", \"100%\", \"100%\", \"60%\"]}>\r\n                    {/* name, avatar */}\r\n                    <Flex alignItems=\"center\">\r\n                        <VStack alignItems=\"start\">\r\n                            <Box as=\"h1\" fontSize=\"2xl\" fontWeight=\"semibold\" >{\"Owner: \" + owner?.name}</Box>\r\n                            <HStack>\r\n                                {room.services.map((s, i) => {\r\n                                    return (\r\n                                        <Box\r\n                                            key={i}\r\n                                            color=\"gray.500\"\r\n                                            fontWeight=\"semibold\"\r\n                                            letterSpacing=\"wide\"\r\n                                            fontSize=\"xs\"\r\n                                            textTransform=\"uppercase\"\r\n                                            ml=\"2\"\r\n                                            isTruncated\r\n                                        >{s} {room.services[room.services.length - 1] !== s && <>&bull;</>} </Box>\r\n                                    )\r\n                                })}\r\n                            </HStack>\r\n                        </VStack>\r\n\r\n                        <Spacer />\r\n                        <Avatar name={owner?.name} src={owner?.profileImageUrl}></Avatar>\r\n                    </Flex>\r\n                    <Divider my=\"3\" />\r\n\r\n                    {/* room badges */}\r\n                    {room.roomBadges?.map((b, i) => {\r\n                        return <MyRoomBadge id={b.id} key={i}></MyRoomBadge>\r\n                    })}\r\n                    <Divider my=\"3\" />\r\n\r\n                    {/* room introduction */}\r\n                    <Box as=\"h5\" fontWeight=\"semibold\" fontSize=\"2xl\">More about room</Box>\r\n                    <Box as=\"p\">{room.introduction}</Box>\r\n                    <Divider my=\"3\" />\r\n\r\n                    {/* another datepicker here */}\r\n                    <Box w=\"100%\" display={{ md: \"none\", lg: \"block\" }}>\r\n                        <PickRangeDay schedules={{ reservedDates: room.reservedDates, dayOff: room.daysOff }} updateDate={updateDate} />\r\n                    </Box>\r\n                    <Divider my=\"3\" />\r\n\r\n                </Box>\r\n            </Box>\r\n        </Box>\r\n    )\r\n    return <></>\r\n}\r\n\r\nconst badges: RoomBadge[] = defaultRoomBadges;\r\n\r\nconst defaultRoom: Room = {\r\n    id: \"1\",\r\n    name: \"Crystal palace\",\r\n    thumbnailUrl: \"https://bit.ly/2Z4KKcF\",\r\n    maxGuest: 1,\r\n    images: [\r\n        { url: \"https://picsum.photos/1100/1000\" },\r\n        { url: \"https://picsum.photos/700/1200\" },\r\n        { url: \"https://picsum.photos/1000/1000\" },\r\n        { url: \"https://picsum.photos/1200/1000\" },\r\n        { url: \"https://picsum.photos/1100/900\" }\r\n    ],\r\n    thumbnailAlt: \"rear view house with pool\",\r\n    introduction: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum congue eros id ligula porta, id fermentum ligula semper. Pellentesque eget pulvinar justo. Phasellus eu risus dolor. Aliquam mollis urna vel lectus ornare, nec ultricies augue gravida. Nunc dignissim diam vel massa cursus condimentum. Nulla pharetra molestie nunc, ac hendrerit felis posuere a. Sed finibus magna ut nibh luctus, ac dapibus mauris cursus. Sed eu porttitor lacus. Nulla venenatis erat quis orci consectetur efficitur. Phasellus nisl nisl, luctus et sapien nec, dictum feugiat felis. Nam nec ullamcorper mi, eu vulputate justo. Nullam nibh ipsum, dictum at commodo nec, molestie et ipsum. Aliquam sit amet tincidunt augue, sit amet consectetur mi.\",\r\n    description: \"Best place in town\",\r\n    location: \"Dark side, the moon\",\r\n    totalReview: 4,\r\n    totalStar: 19,\r\n    formattedPrice: 2021.00,\r\n    services: [\"Pet\", \"Kitchen\", \"Breakfast\", \"Wifi\"],\r\n    roomBadges: badges,\r\n    serviceFee: 0.00,\r\n    cleaningFee: 40.00\r\n}\r\n\r\n\r\n\r\nconst defaultOwner: OwnerInfo = {\r\n    id: \"1234\",\r\n    name: \"Ivanov Ivan Ivanovich\",\r\n    profileImageUrl: \"https://scontent-arn2-1.xx.fbcdn.net/v/t1.6435-9/168934405_1649568108574870_2922711241924143290_n.jpg?_nc_cat=103&ccb=1-3&_nc_sid=09cbfe&_nc_ohc=NE0y-9oTNT4AX_6yZvA&_nc_ht=scontent-arn2-1.xx&oh=4a47294ccdbae32c261080108427acd1&oe=6096A09B\"\r\n}\r\n\r\nexport default SingleRoom;","E:\\Repos\\hostel-chakra\\Hostel\\src\\Pages\\ErrorPage.tsx",["237"],"import { Alert, AlertDescription, AlertIcon, AlertTitle, Box } from '@chakra-ui/react'\r\nimport React from 'react'\r\nimport { useLocation } from 'react-router'\r\n\r\ntype ErrorLocationState = {\r\n    message: string;\r\n}\r\n\r\nconst ErrorPage = () => {\r\n    const location = useLocation<ErrorLocationState>();\r\n    if (location.state) {\r\n        const { message } = location.state;\r\n        return <Alert\r\n            status=\"error\"\r\n            variant=\"subtle\"\r\n            flexDirection=\"column\"\r\n            alignItems=\"center\"\r\n            justifyContent=\"center\"\r\n            textAlign=\"center\"\r\n            height=\"200px\"\r\n        >\r\n            <AlertIcon boxSize=\"40px\" mr={0} />\r\n            <AlertTitle mt={4} mb={1} fontSize=\"lg\">\r\n                {message}\r\n            </AlertTitle>\r\n            <AlertDescription maxWidth=\"md\">\r\n                Look like you have some problems! Contact us for more info!\r\n                </AlertDescription>\r\n        </Alert>\r\n    }\r\n    return (\r\n        <Alert\r\n            status=\"info\"\r\n            variant=\"subtle\"\r\n            flexDirection=\"column\"\r\n            alignItems=\"center\"\r\n            justifyContent=\"center\"\r\n            textAlign=\"center\"\r\n            height=\"200px\"\r\n        >\r\n            <AlertIcon boxSize=\"40px\" mr={0} />\r\n            <AlertTitle mt={4} mb={1} fontSize=\"lg\">\r\n                Not Found!\r\n            </AlertTitle>\r\n            <AlertDescription maxWidth=\"md\">\r\n                The page you are looking does not exist or was deleted\r\n                </AlertDescription>\r\n        </Alert>\r\n    )\r\n}\r\n\r\nexport default ErrorPage;","E:\\Repos\\hostel-chakra\\Hostel\\src\\ColorModeSwitcher.tsx",[],"E:\\Repos\\hostel-chakra\\Hostel\\src\\Logo.tsx",[],"E:\\Repos\\hostel-chakra\\Hostel\\src\\Pages\\HomePage.tsx",[],"E:\\Repos\\hostel-chakra\\Hostel\\src\\Pages\\RoomsPage.tsx",["238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253"],"import { Box, CircularProgress, Divider, HStack, InputLeftAddon, NumberDecrementStepper, NumberIncrementStepper, NumberInput, NumberInputField, NumberInputStepper, Portal, Slider, SliderFilledTrack, SliderThumb, SliderTrack, Spinner, Tag, TagCloseButton, TagLabel, TagProps, useColorModeValue } from '@chakra-ui/react';\r\nimport React from 'react'\r\nimport { useQuery } from 'react-query';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { fetchPropertiesView } from '../API';\r\nimport RoomCardList from '../Components/FilterComponents/RoomCardList';\r\nimport SearchBar from '../Components/NavComponents/SearchBar';\r\nimport { MdGraphicEq } from \"react-icons/md\";\r\n\r\ntype RoomsPageLocationState = {\r\n    type?: PropertyTypeType;\r\n    search?: SearchQuery;\r\n}\r\n\r\n\r\nconst RoomsPage = () => {\r\n    const queryStr = new URLSearchParams(useLocation().search);\r\n    const searchBoxColor = useColorModeValue(\"gray.100\", \"gray.900\");\r\n\r\n    const location = useLocation<RoomsPageLocationState>();\r\n\r\n    const [search, setSearch] = React.useState<SearchQuery>({ childrenNum: 0, guestNum: 0 });\r\n    const [type, setType] = React.useState<PropertyTypeType>();\r\n\r\n    const updateSearch = (search: SearchQuery) => {\r\n        setSearch(search);\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        if (location.state !== undefined && location.state.search) {\r\n            setSearch(location.state.search)\r\n        }\r\n        if (location.state !== undefined && location.state.type) {\r\n            setType(location.state.type);\r\n        }\r\n    }, [])\r\n\r\n    let queryKeys = [type?.id, search];\r\n\r\n    const { data, isLoading, error, refetch, remove } = useQuery([\"propertyView\", queryKeys], () => fetchPropertiesView(type?.id, search),\r\n        {\r\n            staleTime: 1000 * 60\r\n        });\r\n\r\n    if (error) {\r\n        return <>Error</>\r\n    }\r\n\r\n    return (\r\n        <Box d=\"flex\" flexDir=\"column\" gridGap=\"5\">\r\n            <Box position={{ lg: \"sticky\" }} top={0}\r\n                bgColor={searchBoxColor} d=\"flex\" flexDir=\"column\"\r\n                boxShadow=\"2xl\"\r\n                gridGap=\"5\" pb=\"5\"\r\n            >\r\n                <SearchBar search={search}\r\n                    updateSearch={updateSearch}\r\n                    isLoading={isLoading}\r\n                    onClickSearch={() => { remove(); refetch(); }}\r\n                />\r\n                <HStack>\r\n                    {/* type tag */}\r\n                    {type && <QueryTag label={\"Property type: \" + type.propertyType}\r\n                        onClose={() => { setType(undefined) }}\r\n                    />}\r\n\r\n                    {/* city tag */}\r\n                    {search.city && <QueryTag label={search.city}\r\n                        onClose={() => { setSearch(s => ({ ...s, city: \"\" })) }}\r\n                    />}\r\n\r\n                    {/* from date tag */}\r\n                    {search.from && <QueryTag label={\"From: \" + search.from.toLocaleDateString()}\r\n                        onClose={() => { setSearch(s => ({ ...s, from: undefined })) }}\r\n                    />}\r\n\r\n                    {/* to date tag */}\r\n                    {search.to && <QueryTag label={\"To: \" + search.to.toLocaleDateString()}\r\n                        onClose={() => { setSearch(s => ({ ...s, to: undefined })) }}\r\n                    />}\r\n\r\n                    {/* guest num tag */}\r\n                    {search.guestNum > 0 && <QueryTag label={search.guestNum + \" guests\"}\r\n                        onClose={() => { setSearch(s => ({ ...s, guestNum: 0 })) }}\r\n                    />}\r\n\r\n                    {/* children num tag */}\r\n                    {search.childrenNum > 0 && <QueryTag label={search.childrenNum + \" children\"}\r\n                        onClose={() => { setSearch(s => ({ ...s, childrenNum: 0 })) }}\r\n                    />}\r\n                </HStack>\r\n            </Box>\r\n            <Box as=\"h3\" mb=\"5\" fontSize=\"4xl\" fontWeight=\"bold\" >Find place that fits you most...</Box>\r\n            {isLoading ?\r\n                <Spinner color=\"green\" size=\"lg\" alignSelf=\"center\" />\r\n                :\r\n                <RoomCardList rooms={data?.data}></RoomCardList>\r\n            }\r\n        </Box>\r\n    )\r\n}\r\n\r\ntype QueryTagProps = {\r\n    label: string;\r\n    onClose: () => void;\r\n}\r\nconst QueryTag = (props: QueryTagProps & TagProps) => {\r\n    const { label, onClose, ...tagProps } = props;\r\n\r\n    return (\r\n        <Tag size=\"lg\" colorScheme=\"green\" {...tagProps}>\r\n            <TagLabel>\r\n                {props.label}\r\n            </TagLabel>\r\n            <TagCloseButton onClick={() => props.onClose()} />\r\n        </Tag>\r\n    );\r\n}\r\n\r\nexport default RoomsPage;","E:\\Repos\\hostel-chakra\\Hostel\\src\\Components\\HomeComponents\\PropertyTypeList.tsx",["254","255","256","257","258","259"],"import { Box, Flex, Grid, Link as ChakraLink, Spacer, VStack, Image, Tooltip, Button } from '@chakra-ui/react';\r\nimport React from 'react';\r\nimport { Link, useHistory } from \"react-router-dom\"\r\nimport Slider, { Settings } from 'react-slick';\r\nimport \"slick-carousel/slick/slick.css\";\r\nimport \"slick-carousel/slick/slick-theme.css\";\r\nimport { isError, useQuery } from 'react-query';\r\nimport { fetchPropertyTypes } from '../../API';\r\n\r\nvar settings: Settings = {\r\n    dots: true,\r\n    infinite: true,\r\n    speed: 500,\r\n    slidesToShow: 4,\r\n    slidesToScroll: 1,\r\n    initialSlide: 0,\r\n    swipeToSlide: true,\r\n    responsive: [\r\n        {\r\n            breakpoint: 1024,\r\n            settings: {\r\n                slidesToShow: 4,\r\n                slidesToScroll: 1,\r\n                infinite: true,\r\n                dots: true\r\n            }\r\n        },\r\n        {\r\n            breakpoint: 600,\r\n            settings: {\r\n                slidesToShow: 3,\r\n                slidesToScroll: 1,\r\n                initialSlide: 2\r\n            }\r\n        },\r\n        {\r\n            breakpoint: 480,\r\n            settings: {\r\n                slidesToShow: 1,\r\n                slidesToScroll: 1\r\n            }\r\n        }\r\n    ]\r\n};\r\n\r\nconst PropertyTypeList = () => {\r\n    const { data, isError, isFetching } = useQuery<unknown, unknown, PropertyTypeType[]>(\"propertypeList\", fetchPropertyTypes, {\r\n        staleTime: 1000 * 60 * 10\r\n    });\r\n\r\n    if (isFetching) console.log(\"refetching prop\")\r\n\r\n    if (isError) return <Box>Something's wrong</Box>\r\n    return (\r\n        <div>\r\n            <Slider {...settings}>\r\n                {data?.map((d, key) => <PropertyType type={d} key={key} />)}\r\n            </Slider>\r\n        </div>\r\n    )\r\n}\r\n\r\ntype PropertyTypeProps = {\r\n    type: PropertyTypeType;\r\n}\r\n\r\n\r\n\r\nconst PropertyType: React.FC<PropertyTypeProps> = ({ type, children }) => {\r\n    const history = useHistory();\r\n\r\n    const handlePropTypeClick = () => {\r\n        history.push({\r\n            pathname: \"/rooms\",\r\n            state: {\r\n                type: type\r\n            }\r\n        })\r\n    }\r\n\r\n    return (\r\n        <VStack alignItems=\"start\" p=\"4\">\r\n            <ChakraLink onClick={handlePropTypeClick}>\r\n                <Tooltip hasArrow placement=\"top\" aria-label={\"tooltips\"} label={type.description} openDelay={500}>\r\n                    <Box>\r\n                        <Box maxW=\"sm\" maxH=\"sm\" minH=\"100px\">\r\n                            <Image width=\"inherit\" height=\"inherit\" src={type.thumbnailImg} objectFit=\"cover\"></Image>\r\n                        </Box>\r\n\r\n                        <Box\r\n                            mt=\"1\"\r\n                            fontWeight=\"semibold\"\r\n                            as=\"h4\"\r\n                            lineHeight=\"tight\"\r\n                            isTruncated\r\n                        >\r\n                            {type.propertyType}\r\n                        </Box>\r\n                    </Box>\r\n                </Tooltip>\r\n            </ChakraLink>\r\n            <Box color=\"gray.500\" fontSize=\"md\">\r\n                {type.count + \" \" + type.propertyType + \"\"}\r\n            </Box>\r\n        </VStack>\r\n    )\r\n}\r\n\r\nexport default PropertyTypeList;","E:\\Repos\\hostel-chakra\\Hostel\\src\\Components\\NavComponents\\SearchBar.tsx",["260","261","262","263","264","265"],"import { Box, Button, Center, Flex, Input, InputGroup, InputLeftElement, InputRightElement, Popover, PopoverContent, PopoverTrigger, Portal, Spinner, useColorModeValue } from '@chakra-ui/react';\r\nimport axios from 'axios';\r\nimport React from 'react';\r\nimport { BsSearch } from 'react-icons/bs';\r\nimport { useQuery } from 'react-query';\r\nimport { Redirect, useHistory } from 'react-router';\r\nimport { fetchCities } from '../../API';\r\n// import 'react-day-picker/lib/style.css';\r\nimport PickRangeDay from './PickRangeDay';\r\nimport PopDetail from './PopDetail';\r\n\r\nexport type CityResponse = {\r\n    cityName: string;\r\n    id: string;\r\n    countryName: string;\r\n    countryId: string;\r\n}\r\n\r\ntype SearchBarProps = {\r\n    search: SearchQuery;\r\n    isLoading?: boolean;\r\n    updateSearch?: (search: SearchQuery) => void;\r\n    onClickSearch?: () => void;\r\n}\r\n\r\nconst defaultValue: SearchQuery = {\r\n    guestNum: 0,\r\n    childrenNum: 0,\r\n}\r\n\r\n\r\nconst SearchBar = (props: SearchBarProps) => {\r\n    const { data: cities, isLoading, status } = useQuery<unknown, unknown, CityResponse[]>(\"cities\", fetchCities, {\r\n        staleTime: 1000 * 60 * 10\r\n    });\r\n    const history = useHistory();\r\n\r\n    const { search: form } = props;\r\n\r\n    React.useEffect(() => {\r\n        if (props.updateSearch) {\r\n            console.log(\"update form\")\r\n            props.updateSearch(form);\r\n        }\r\n    }, [form])\r\n\r\n    // if (isLoading) return <>loading...</>;\r\n\r\n    const UpdateDate = (from?: Date, to?: Date) => {\r\n        if (props.updateSearch) {\r\n            props?.updateSearch({\r\n                ...props.search,\r\n                from: from,\r\n                to: to\r\n            });\r\n        }\r\n    }\r\n\r\n    const UpdatePeople = (adult: number, children: number) => {\r\n        if (props.updateSearch) {\r\n            props?.updateSearch({\r\n                ...props.search,\r\n                guestNum: adult,\r\n                childrenNum: children\r\n            });\r\n        }\r\n    }\r\n\r\n    const UpdateCity = (city: string) => {\r\n        if (props.updateSearch) {\r\n            props?.updateSearch({\r\n                ...props.search,\r\n                city: city\r\n            });\r\n        }\r\n    }\r\n\r\n    const handleSearchClick = () => {\r\n        history.push({\r\n            pathname: \"/rooms\",\r\n            state: {\r\n                search: props.search\r\n            }\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Box p=\"2\" border=\"1px\" borderColor=\"yellow.400\" style={{ backdropFilter: \"blur(5px)\" }}>\r\n            <Flex display={{ lg: \"flex\" }} alignItems=\"center\">\r\n                <InputGroup>\r\n                    <InputLeftElement pointerEvents=\"none\" children={<BsSearch />} />\r\n                    <Input list=\"datalist-cities\" placeholder=\"City\" size=\"lg\" borderRadius=\"0\"\r\n                        onChange={(e) => UpdateCity(e.target.value)}\r\n                        value={props.search.city}\r\n                    />\r\n                    {isLoading ? <InputRightElement children={<Spinner alignSelf=\"center\" />}></InputRightElement> :\r\n                        <datalist id=\"datalist-cities\">\r\n                            {cities?.map(c => {\r\n                                return <option key={c.id} value={c.cityName} />\r\n                            })}\r\n                        </datalist>\r\n                    }\r\n                </InputGroup>\r\n                <Popover closeOnBlur={true}>\r\n                    <PopoverTrigger>\r\n                        <Button variant=\"outline\" w={[\"100%\", \"100%\", \"100%\", \"150%\"]}\r\n                            size=\"lg\" _focusVisible={{ border: \"0\" }} borderRadius=\"0\" px=\"2\">\r\n                            {form?.from?.toLocaleDateString() || \"From\"} - {form?.to?.toLocaleDateString() || \"To\"}\r\n                        </Button>\r\n                    </PopoverTrigger>\r\n                    <Portal>\r\n                        <PopoverContent\r\n                            flexWrap=\"nowrap\" alignItems=\"center\" style={{ backdropFilter: \"blur(5px)\" }}\r\n                            w=\"550px\" borderRadius=\"0\"\r\n                            bgColor={useColorModeValue(\"gray.100\", \"gray.800\")}\r\n                        >\r\n                            <PickRangeDay updateDate={UpdateDate} />\r\n                        </PopoverContent>\r\n                    </Portal>\r\n                </Popover>\r\n                <Popover>\r\n                    <PopoverTrigger>\r\n                        <Button variant=\"outline\" w={[\"100%\", \"100%\", \"100%\", \"150%\"]} size=\"lg\"\r\n                            borderRadius=\"0\" px=\"2\"\r\n                        >\r\n                            {form.guestNum + ' guests - ' + form.childrenNum + ' children'}\r\n                        </Button>\r\n                    </PopoverTrigger>\r\n                    <Portal>\r\n                        <PopoverContent flexWrap=\"nowrap\" borderRadius=\"0\" bg=\"inherit\"\r\n                            bgColor={useColorModeValue(\"gray.100\", \"gray.800\")}\r\n                        >\r\n                            <PopDetail updatePeople={UpdatePeople} guest={form.guestNum!} children={form.childrenNum!}></PopDetail>\r\n                        </PopoverContent>\r\n                    </Portal>\r\n                </Popover>\r\n                <Button alignSelf=\"center\" size=\"lg\" minW=\"100px\" ml={[0, 0, 0, 2]}\r\n                    onClick={props.onClickSearch ? props.onClickSearch : handleSearchClick}\r\n                    isLoading={props.isLoading}\r\n                    mt={[2, 2, 2, 0]} w={[\"100%\", \"100%\", \"100%\", \"30%\"]} borderRadius=\"0\">\r\n                    Search\r\n                </Button>\r\n            </Flex>\r\n        </Box>\r\n    )\r\n}\r\n\r\nexport default SearchBar;","E:\\Repos\\hostel-chakra\\Hostel\\src\\Components\\NavComponents\\Navbar.tsx",["266","267","268","269"],"import React, { FC } from 'react';\r\nimport { Box, BoxProps, Button, Center, DarkMode, Flex, Heading, HStack, Menu, MenuButton, MenuDivider, MenuItem, MenuList, Modal, ModalBody, ModalCloseButton, ModalContent, ModalHeader, ModalOverlay, Spacer, useColorModeValue, useDisclosure } from '@chakra-ui/react';\r\nimport { ColorModeSwitcher } from '../../ColorModeSwitcher';\r\nimport { Logo } from \"../../Logo\";\r\nimport { Link as RouterLink, useLocation } from 'react-router-dom';\r\nimport { AuthContext } from '../../Contexts/AuthContext';\r\nimport { BsBell, BsBookmark, BsBoxArrowDown, BsCalendar, BsChevronDown, BsHouse, BsLock, BsPerson } from 'react-icons/bs';\r\nimport LoginForm from '../LoginForm';\r\n\r\nconst Navbar: FC<BoxProps> = ({ ...props }) => {\r\n    const auth = React.useContext(AuthContext);\r\n    const loginFormModal = useDisclosure();\r\n    const initRef = React.useRef<HTMLInputElement>(null);\r\n    const [isRegistering, setIsRegistering] = React.useState(false);\r\n\r\n    // check if we are at homepage, then do a bit of theme modification\r\n    const { pathname } = useLocation();\r\n    const bgColorMenuWhenHome = useColorModeValue(\"gray.800\", \"gray.800\");\r\n    const colorMenuWhenHome = useColorModeValue(\"white\", \"white\");\r\n\r\n    const becomehostColor = useColorModeValue(\"cyan.200\", \"blue.400\");\r\n\r\n    return (\r\n        <Box marginBottom={[\"5%\"]} {...props}>\r\n            <Flex justifyContent=\"center\" alignItems=\"center\">\r\n                <RouterLink to=\"/\">\r\n                    <HStack spacing={4}>\r\n                        <Center>\r\n                            <Logo />\r\n                        </Center>\r\n                        <Heading size=\"md\" display={{ base: \"none\", sm: \"block\" }}>aibeo.github.io/Hostel/</Heading>\r\n                    </HStack>\r\n                </RouterLink>\r\n                <Spacer />\r\n                <HStack spacing={4}>\r\n                    <ColorModeSwitcher />\r\n                    {auth.user === undefined ?\r\n                        <>\r\n                            <Button variant=\"ghost\" onClick={() => { loginFormModal.onOpen(); setIsRegistering(false); }}>Login</Button>\r\n                            <Modal isOpen={loginFormModal.isOpen} onClose={loginFormModal.onClose} size=\"xl\" motionPreset=\"slideInBottom\" isCentered initialFocusRef={initRef}>\r\n                                <ModalOverlay />\r\n\r\n                                <ModalContent>\r\n                                    <ModalHeader>{isRegistering ? \"Sign up new account\" : \"Login\"}</ModalHeader>\r\n                                    <ModalCloseButton />\r\n                                    <ModalBody pb=\"2\">\r\n                                        <LoginForm initRef={initRef} isRegistering={isRegistering}></LoginForm>\r\n                                    </ModalBody>\r\n                                </ModalContent>\r\n                            </Modal>\r\n                            <Button variant=\"ghost\" onClick={() => { loginFormModal.onOpen(); setIsRegistering(true); }}>Register</Button>\r\n                        </> :\r\n                        <>\r\n                            <Menu>\r\n                                <MenuButton as={Button} variant=\"ghost\" rightIcon={<BsChevronDown />}>\r\n                                    {auth.user.name}\r\n                                </MenuButton>\r\n                                <MenuList>\r\n                                    <MenuItem as={RouterLink} to=\"/profile?view=likes\">\r\n                                        <Box mr={\"3\"}><BsBookmark /></Box>\r\n                                        Saved rooms\r\n                                    </MenuItem>\r\n                                    <MenuItem as={RouterLink} to=\"/profile?view=reservations\">\r\n                                        <Box mr={\"3\"}><BsCalendar /></Box>\r\n                                        Your Reservations\r\n                                    </MenuItem>\r\n                                    <MenuItem as={RouterLink} to=\"/profile?view=notifications\">\r\n                                        <Box mr=\"3\"><BsBell /></Box>\r\n                                        Notifications\r\n                                    </MenuItem>\r\n                                    <MenuDivider />\r\n                                    {auth.user.roles?.includes(\"Owner\") ?\r\n                                        <>\r\n                                            <MenuItem as={RouterLink} to=\"/user/publish\">\r\n                                                <Box mr=\"3\"><BsLock /></Box>\r\n                                        Host your property\r\n                                        </MenuItem>\r\n                                            <MenuItem as={RouterLink} to=\"/user/publish\">\r\n                                                <Box mr=\"3\"><BsHouse /></Box>\r\n                                        Your properties\r\n                                        </MenuItem>\r\n                                        </>\r\n                                        :\r\n                                        <MenuItem bg={becomehostColor} as={RouterLink} to=\"/user/register-host\">\r\n                                            <Box mr=\"3\"><BsLock /></Box>\r\n                                        Become a host\r\n                                        </MenuItem>\r\n                                    }\r\n                                    <MenuItem as={RouterLink} to=\"/\">\r\n                                        <Box mr=\"3\"><BsPerson /></Box>\r\n                                        Account\r\n                                    </MenuItem>\r\n                                    <MenuDivider />\r\n                                    <MenuItem onClick={() => auth.logoutAsync()}>\r\n                                        <Box mr=\"3\"><BsBoxArrowDown /></Box>\r\n                                        Log Out\r\n                                    </MenuItem>\r\n                                </MenuList>\r\n                            </Menu>\r\n                        </>\r\n                    }\r\n                </HStack>\r\n            </Flex>\r\n        </Box>\r\n    )\r\n}\r\n\r\nexport default Navbar;","E:\\Repos\\hostel-chakra\\Hostel\\src\\Components\\FilterComponents\\RoomCardList.tsx",["270","271"],"import { SimpleGrid, Box } from '@chakra-ui/react'\r\nimport React from 'react'\r\nimport RoomCard from './RoomCard'\r\n\r\ntype RoomCardListProps = {\r\n    rooms?: RoomCard[];\r\n}\r\n\r\nconst RoomCardList: React.FC<RoomCardListProps> = ({ rooms }) => {\r\n    // rooms = defaultRooms;\r\n    if (!rooms || rooms.length === 0) return <Box>\r\n        Not found any room\r\n    </Box>\r\n\r\n    return (\r\n        <SimpleGrid spacing=\"8\" columns={[1, 1, 1, 2, 3]} >\r\n            {rooms && rooms.map((r, index) => {\r\n                return (\r\n                    <RoomCard key={r.id} room={r} isSaved={false}></RoomCard>\r\n                )\r\n            })}\r\n        </SimpleGrid>\r\n    )\r\n}\r\n\r\nconst defaultRoom: RoomCard = {\r\n    id: \"random-id-12321\",\r\n    name: \"Crystal palace\",\r\n    thumbnailUrl: \"https://picsum.photos/1100/1000?random=1\",\r\n    thumbnailAlt: \"rear view house with pool\",\r\n    description: \"Best place in townBest place in townBest place in townBest \",\r\n    location: \"Dark side, the moon\",\r\n    totalReview: 4,\r\n    totalStar: 23,\r\n    formattedPrice: 2021.00,\r\n    services: [\"Pet\", \"Kitchen\", \"Breakfast\", \"Wifi\"]\r\n}\r\n\r\nconst defaultRooms: Array<RoomCard> = [\r\n    { ...defaultRoom, thumbnailUrl: \"https://picsum.photos/1100/1000?random=1\" },\r\n    { ...defaultRoom, thumbnailUrl: \"https://picsum.photos/1100/1000?random=2\" },\r\n    { ...defaultRoom, thumbnailUrl: \"https://picsum.photos/1100/1000?random=3\" },\r\n    { ...defaultRoom, thumbnailUrl: \"https://picsum.photos/1100/1000?random=4\" },\r\n    { ...defaultRoom, thumbnailUrl: \"https://picsum.photos/1100/1000?random=5\" },\r\n]\r\nconst str = \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Delectus non laboriosam blanditiis ipsa voluptas assumenda earum fugiat vel nemo rem totam modi officiis corporis accusamus consectetur, soluta optio, quas maiores!\"\r\nexport default RoomCardList;","E:\\Repos\\hostel-chakra\\Hostel\\src\\Components\\NavComponents\\PickRangeDay.tsx",["272","273","274","275","276","277"],"import { Box, Button, Center, Flex, useColorModeValue, useToast } from '@chakra-ui/react';\r\nimport React from 'react'\r\nimport DayPicker from 'react-day-picker';\r\nimport { DateUtils } from \"react-day-picker\";\r\nimport 'react-day-picker/lib/style.css';\r\n\r\nconst today = new Date(Date.now());\r\n\r\ntype PropertySchedule = {\r\n    reservedDates?: {\r\n        fromDate: string;\r\n        toDate: string;\r\n    }[],\r\n\r\n    dayOff?: Date[];\r\n}\r\n\r\nconst defaultSchedules: PropertySchedule = {\r\n    reservedDates: [\r\n        {\r\n            fromDate: \"2021-04-19\",\r\n            toDate: \"2021-04-21\"\r\n        },\r\n        {\r\n            fromDate: \"2021-04-21\",\r\n            toDate: \"2021-04-24\"\r\n        },\r\n        {\r\n            fromDate: \"2021-04-30\",\r\n            toDate: \"2021-05-01\"\r\n        }\r\n    ],\r\n}\r\n\r\nexport const getDatesBetween = (fromDate: string, toDate: string) => {\r\n    const from = new Date(fromDate);\r\n    const to = new Date(toDate);\r\n    let datesBtw: Date[] = [];\r\n    let start = from;\r\n    start.setDate(start.getDate() + 1);\r\n\r\n    while (start.getDate() < to.getDate()) {\r\n        datesBtw.push(new Date(start));\r\n        start.setDate(start.getDate() + 1);\r\n    }\r\n    return datesBtw;\r\n}\r\n\r\nconst getDisabledDates = (schedules?: PropertySchedule) => {\r\n    let disabledDates: Date[] = [];\r\n\r\n    if (schedules?.reservedDates) {\r\n        for (let i = 0; i < schedules.reservedDates.length; i++) {\r\n            disabledDates.push(...getDatesBetween(schedules.reservedDates[i].fromDate, schedules.reservedDates[i].toDate))\r\n        }\r\n    }\r\n\r\n    if (schedules?.dayOff) disabledDates.push(...schedules.dayOff);\r\n    return disabledDates;\r\n}\r\n\r\nconst getDateCheckOutOnly = (schedules?: PropertySchedule) => {\r\n    return schedules?.reservedDates?.map(r => new Date(r.fromDate));\r\n}\r\n\r\nconst getNextPossibleDate = (day: Date, schedules?: PropertySchedule) => {\r\n    let nextDay: Date | undefined = undefined;\r\n\r\n    if (schedules?.reservedDates) {\r\n        schedules.reservedDates.forEach(r => {\r\n            const rFrom = new Date(r.fromDate);\r\n\r\n            if (rFrom > day) {\r\n                if (!nextDay) nextDay = rFrom;\r\n                else if (rFrom <= nextDay) nextDay = rFrom;\r\n            }\r\n        })\r\n    }\r\n    if (nextDay !== day) return nextDay;\r\n    return null;\r\n}\r\n\r\ntype PickRangeDayState = {\r\n    from?: Date;\r\n    to?: Date;\r\n    enteredTo?: Date; // keep track of the last day for mouseEnter\r\n}\r\n\r\ntype PickRangeDayProps = {\r\n    from?: Date,\r\n    to?: Date,\r\n    updateDate: (from?: Date, to?: Date) => void,\r\n    schedules?: PropertySchedule\r\n}\r\n\r\nconst defaultDate: PickRangeDayState = {\r\n    from: undefined,\r\n    to: undefined,\r\n    enteredTo: undefined\r\n}\r\n\r\nconst PickRangeDay: React.FC<PickRangeDayProps> = ({ from, to, updateDate, schedules }) => {\r\n    const toast = useToast();\r\n    const [state, setState] = React.useState<PickRangeDayState>({ from: from, to: to });\r\n\r\n    const disabled = [\r\n        {\r\n            before: new Date(Date.now())\r\n        },\r\n        ...getDisabledDates(schedules),\r\n    ]\r\n\r\n    const [disabledDays, setDisabledDays] = React.useState(disabled)\r\n\r\n    React.useEffect(() => {\r\n        if (state.from && state.to || (!state.from && !state.to)) {\r\n            updateDate(state.from, state.to);\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [state.from, state.to]);\r\n\r\n    const isSelectingFirstDay = (day: Date, from?: Date, to?: Date) => {\r\n        const isBeforeFirstDay = from && DateUtils.isDayBefore(day, from);\r\n        const isRangeSelected = from && to;\r\n        return !from || isBeforeFirstDay || isRangeSelected;\r\n    }\r\n\r\n    const handleDayMouseEnter = (day: Date) => {\r\n        const { from, to } = state;\r\n        if (!isSelectingFirstDay(day, from, to)) {\r\n            setState(s => ({\r\n                ...s,\r\n                enteredTo: day,\r\n            }));\r\n        }\r\n    }\r\n\r\n    const handleDayClick = (day: Date, modifiers: any) => {\r\n        if (modifiers.disabled) return;\r\n\r\n        const today = new Date(Date.now());\r\n        if (day < today) return;\r\n        const { from, to } = state;\r\n        if (from && to && day >= from && day <= to) {\r\n            handleResetClick();\r\n            return;\r\n        }\r\n        // if selecting first day, recalculate disabled days to this chosen day\r\n        if (isSelectingFirstDay(day, from, to)) {\r\n            if (modifiers.checkoutOnly) {\r\n                toast({\r\n                    status: \"info\",\r\n                    description: \"Check out only!\",\r\n                    duration: 3000\r\n                })\r\n                return;\r\n            }\r\n            setDisabledDays((s) => ({ ...s, before: day, after: getNextPossibleDate(day, schedules) }))\r\n\r\n            setState({\r\n                from: day,\r\n                to: undefined,\r\n                enteredTo: undefined,\r\n            });\r\n        }\r\n        // else, set every things back to normal\r\n        else {\r\n            setDisabledDays(disabled);\r\n            // prevent from = to\r\n            if (state.from?.getDate() === day.getDate()) {\r\n                setState({\r\n                    from: undefined,\r\n                    to: undefined,\r\n                    enteredTo: undefined,\r\n                });\r\n                return;\r\n            }\r\n            setState(s => ({\r\n                ...s,\r\n                to: day,\r\n                enteredTo: day,\r\n            }));\r\n        }\r\n    }\r\n\r\n    const handleResetClick = () => {\r\n        setState(defaultDate);\r\n    }\r\n\r\n    const selected = [state.from, { from: state.from, to: state.enteredTo }];\r\n\r\n\r\n    const modifiers = {\r\n        start: state.from,\r\n        end: state.enteredTo,\r\n        checkoutOnly: getDateCheckOutOnly(schedules),\r\n    }\r\n\r\n    return (\r\n        <Box alignSelf=\"stretch\">\r\n            <Flex alignItems=\"stretch\" flexDir=\"column\">\r\n                <DayPicker\r\n                    numberOfMonths={2}\r\n                    fromMonth={state.from}\r\n                    modifiers={modifiers as any}\r\n                    onDayClick={handleDayClick}\r\n                    disabledDays={disabledDays}\r\n                    onDayMouseEnter={handleDayMouseEnter}\r\n                    selectedDays={selected as any}>\r\n                </DayPicker>\r\n            </Flex>\r\n            <Flex justifyContent=\"center\" alignItems=\"center\">\r\n                {!state.from && !state.to && 'Please select the first day.'}\r\n                {state.from && !state.to && 'Please select the last day.'}\r\n                {state.from &&\r\n                    state.to &&\r\n                    `Selected from ${state.from.toLocaleDateString()} to\r\n                ${state.to.toLocaleDateString()}`}{' '}\r\n                {state.from && state.to && (\r\n                    <Button onClick={handleResetClick}>\r\n                        Reset\r\n                    </Button>\r\n                )}\r\n            </Flex>\r\n        </Box>\r\n    )\r\n}\r\n\r\nexport default PickRangeDay;","E:\\Repos\\hostel-chakra\\Hostel\\src\\Components\\NavComponents\\PopDetail.tsx",["278","279"],"import { Box, Flex, VStack, Text, Spacer, Square, Button, StackDivider } from '@chakra-ui/react';\r\nimport React from 'react';\r\n\r\ntype PopDetailState = {\r\n    guest: number;\r\n    children: number;\r\n}\r\n\r\ninterface PopDetailProps extends PopDetailState {\r\n    updatePeople: (guest: number, children: number) => void;\r\n    maxGuest?: number;\r\n}\r\n\r\nconst PopDetail: React.FC<PopDetailProps> = ({ guest, children, updatePeople, maxGuest }) => {\r\n    return (\r\n        <Box p=\"4\" style={{ backdropFilter: \"blur(5px)\" }}>\r\n            <VStack align=\"stretch\" spacing={4}>\r\n                <Flex alignItems=\"center\">\r\n                    <Text mr=\"auto\" fontSize=\"md\">Guests</Text>\r\n                    <Square border=\"1px\" borderColor=\"yellow.400\">\r\n                        <Button variant=\"ghost\" borderRadius=\"0\" disabled={guest <= 0}\r\n                            onClick={() => updatePeople(--guest, children)}>-</Button>\r\n                    </Square>\r\n                    <Text mx=\"4\" fontSize=\"md\">{guest}</Text>\r\n                    <Square border=\"1px\" borderColor=\"yellow.400\">\r\n                        <Button variant=\"ghost\" borderRadius=\"0\"\r\n                            disabled={maxGuest !== undefined && guest >= maxGuest}\r\n                            onClick={() => updatePeople(++guest, children)}>+</Button>\r\n                    </Square>\r\n                </Flex>\r\n                <Flex alignItems=\"center\">\r\n                    <Text mr=\"auto\" fontSize=\"md\">Children</Text>\r\n                    <Square border=\"1px\" borderColor=\"yellow.400\">\r\n                        <Button variant=\"ghost\" borderRadius=\"0\" disabled={children <= 0 ? true : false}\r\n                            onClick={() => updatePeople(guest, --children)}>-</Button>\r\n                    </Square>\r\n                    <Text mx=\"4\" fontSize=\"md\">{children}</Text>\r\n                    <Square border=\"1px\" borderColor=\"yellow.400\">\r\n                        <Button variant=\"ghost\" borderRadius=\"0\"\r\n                            isDisabled={children >= 5}\r\n                            onClick={() => updatePeople(guest, ++children)}>+</Button>\r\n                    </Square>\r\n                </Flex>\r\n            </VStack>\r\n        </Box>\r\n    )\r\n}\r\n\r\nexport default PopDetail;",["280","281"],"E:\\Repos\\hostel-chakra\\Hostel\\src\\Components\\FilterComponents\\RoomCard.tsx",["282","283","284"],"import { Badge, Box, Image, LinkOverlay, Text, Link, BoxProps, useColorModeValue, Spacer, Center } from '@chakra-ui/react';\r\nimport React from 'react';\r\nimport { BsStar, BsStarFill } from 'react-icons/bs';\r\nimport { Link as LinkReact } from 'react-router-dom';\r\n\r\ntype RoomCardProps = {\r\n    room: RoomCard;\r\n    isSaved: boolean;\r\n}\r\n\r\nconst RoomCard = ({ room, isSaved, ...props }: RoomCardProps & BoxProps) => {\r\n    return (\r\n        <Box borderWidth=\"1px\" borderRadius=\"lg\" {...props} bg={useColorModeValue(\"gray.100\", \"gray.900\")} d=\"flex\" flexDir=\"column\">\r\n            <Link as={LinkReact} to={\"/rooms/\" + room.id} >\r\n                <Box minH=\"200px\" maxH=\"300px\" overflow=\"hidden\">\r\n                    <Image src={room.thumbnailUrl}\r\n                        objectFit=\"cover\" fit=\"cover\"\r\n                        fallback={<Box bgColor=\"gray\" color=\"gray\" />}\r\n                        alt={room.thumbnailAlt} overflow=\"hidden\"\r\n                        style={{ transition: \"ease 0.5s\" }}\r\n                        _hover={{ transform: \"scale(1.1)\" }} />\r\n                </Box>\r\n            </Link>\r\n\r\n            <Spacer />\r\n\r\n            <Box p=\"4\" d=\"flex\" flexDir=\"column\">\r\n                {!isSaved &&\r\n                    <Box d=\"flex\" alignItems=\"baseline\">\r\n                        <Badge borderRadius=\"full\" px=\"2\" colorScheme=\"teal\">\r\n                            New\r\n                        </Badge>\r\n                        {room.services.map((s, key) => {\r\n                            return (\r\n                                <Box\r\n                                    key={key}\r\n                                    color=\"gray.500\"\r\n                                    fontWeight=\"semibold\"\r\n                                    letterSpacing=\"wide\"\r\n                                    fontSize=\"xs\"\r\n                                    textTransform=\"uppercase\"\r\n                                    ml=\"2\"\r\n                                    isTruncated\r\n                                >{s} {room.services[room.services.length - 1] !== s && <>&bull;</>} </Box>\r\n                            )\r\n                        })}\r\n                    </Box>\r\n                }\r\n                <Box\r\n                    mt=\"1\"\r\n                    fontWeight=\"semibold\"\r\n                    as=\"h4\"\r\n                    lineHeight=\"tight\"\r\n                >\r\n                    {room.name}\r\n                </Box>\r\n\r\n                {!isSaved &&\r\n                    <Box\r\n                        as={\"p\"}\r\n                        lineHeight=\"tight\"\r\n                        textOverflow=\"ellipsis\"\r\n                        overflow=\"hidden\"\r\n                    >\r\n                        {room.description.length > 100 ? room.description.substring(0, 100) + \"...\" : room.description}\r\n                    </Box>\r\n                }\r\n\r\n                <Box d='flex' flexWrap=\"wrap\" justifySelf=\"end\" alignItems=\"baseline\" flexDir=\"row\">\r\n                    <Box as=\"h4\" fontSize=\"3xl\">\r\n                        {room.formattedPrice + \"$\"}\r\n                    </Box>\r\n                    <Box as=\"span\" color=\"gray.500\" fontStyle=\"italic\">\r\n                        / per night\r\n                    </Box>\r\n\r\n                    <Box d=\"flex\" alignItems=\"center\" alignSelf=\"center\" ml=\"auto\">\r\n                        {Array(5).fill(\"\").map((_, i) => {\r\n                            return (i < Math.round(room.totalStar / room.totalReview) ? <BsStarFill key={i} colorRendering=\"teal.400\" /> : <BsStar key={i} />)\r\n                        })}\r\n                    </Box>\r\n                </Box>\r\n            </Box>\r\n        </Box>\r\n    )\r\n}\r\n\r\nexport default RoomCard;","E:\\Repos\\hostel-chakra\\Hostel\\src\\Components\\NavComponents\\Footer.tsx",[],"E:\\Repos\\hostel-chakra\\Hostel\\src\\Components\\SingleRoomComponents\\MyRoomBadge.tsx",["285"],"import { Box, Icon, HStack, VStack, Center } from '@chakra-ui/react'\r\nimport React from 'react'\r\nimport { IconType } from 'react-icons'\r\nimport { RiStarLine, RiUserStarLine } from \"react-icons/ri\";\r\n\r\ntype MyRoomBadgeProps = {\r\n    id: string;\r\n}\r\n\r\nconst MyRoomBadge: React.FC<MyRoomBadgeProps> = ({ id }) => {\r\n    const [icon, setIcon] = React.useState<IconType>();\r\n    const [badge, setBadge] = React.useState<RoomBadge>();\r\n\r\n    React.useEffect(() => {\r\n        let foundBadge = defaultRoomBadges.find(b => b.id === id);\r\n        setBadge(foundBadge);\r\n        switch (id) {\r\n            case \"1\":\r\n                setIcon(RiUserStarLine);\r\n                break;\r\n\r\n            default:\r\n                setIcon(RiStarLine);\r\n                break;\r\n        }\r\n    }, [id])\r\n\r\n    return (\r\n        <HStack alignContent=\"center\" spacing=\"0\" mb=\"2\">\r\n            <Icon d=\"flex\" boxSize=\"10\" alignItems=\"center\" justifyContent=\"center\" mt=\"2\" ml=\"2\">{icon}</Icon>\r\n            <VStack alignItems=\"start\" spacing=\"0\">\r\n                <Box as=\"h4\" fontSize=\"md\" fontWeight=\"semibold\">{badge?.title}</Box>\r\n                <Box as=\"h5\" fontSize=\"sm\" m=\"0\">{badge?.description}</Box>\r\n            </VStack>\r\n        </HStack>\r\n    )\r\n}\r\n\r\nexport const defaultRoomBadges: RoomBadge[] = [\r\n    {\r\n        id: \"1\",\r\n        title: \"Helpful owner\",\r\n        description: \"Owner provides best services\"\r\n    },\r\n    {\r\n        id: \"2\",\r\n        title: \"Extra clean\",\r\n        description: \"Owner follows our strict policies of enhanced clealiness\"\r\n    },\r\n    {\r\n        id: \"3\",\r\n        title: \"Not smoking\",\r\n        description: \"Owner does not allow smoking inside\"\r\n    },\r\n    {\r\n        id: \"4\",\r\n        title: \"Free cancelation\",\r\n        description: \"You can cancel with full refund in 24 hours\"\r\n    }\r\n]\r\n\r\nexport default MyRoomBadge;","e:\\Repos\\hostel-chakra\\Hostel\\src\\index.tsx",[],"e:\\Repos\\hostel-chakra\\Hostel\\src\\reportWebVitals.ts",[],"e:\\Repos\\hostel-chakra\\Hostel\\src\\serviceWorker.ts",[],"e:\\Repos\\hostel-chakra\\Hostel\\src\\App.tsx",["286"],"e:\\Repos\\hostel-chakra\\Hostel\\src\\Pages\\HomePage.tsx",["287"],"e:\\Repos\\hostel-chakra\\Hostel\\src\\Pages\\SingleRoom.tsx",["288","289","290","291","292"],"e:\\Repos\\hostel-chakra\\Hostel\\src\\Pages\\RoomsPage.tsx",[],"e:\\Repos\\hostel-chakra\\Hostel\\src\\Pages\\ErrorPage.tsx",[],"e:\\Repos\\hostel-chakra\\Hostel\\src\\Components\\NavComponents\\Footer.tsx",[],"e:\\Repos\\hostel-chakra\\Hostel\\src\\Components\\NavComponents\\SearchBar.tsx",[],"e:\\Repos\\hostel-chakra\\Hostel\\src\\Components\\NavComponents\\PickRangeDay.tsx",["293"],"e:\\Repos\\hostel-chakra\\Hostel\\src\\Components\\NavComponents\\Navbar.tsx",[],"e:\\Repos\\hostel-chakra\\Hostel\\src\\Components\\NavComponents\\PopDetail.tsx",["294","295"],"e:\\Repos\\hostel-chakra\\Hostel\\src\\Components\\HomeComponents\\PropertyTypeList.tsx",["296","297","298"],"e:\\Repos\\hostel-chakra\\Hostel\\src\\Components\\SingleRoomComponents\\MyRoomBadge.tsx",["299"],"e:\\Repos\\hostel-chakra\\Hostel\\src\\Components\\FilterComponents\\RoomCardList.tsx",[],"e:\\Repos\\hostel-chakra\\Hostel\\src\\Logo.tsx",[],"e:\\Repos\\hostel-chakra\\Hostel\\src\\ColorModeSwitcher.tsx",[],"e:\\Repos\\hostel-chakra\\Hostel\\src\\Components\\FilterComponents\\RoomCard.tsx",["300"],"E:\\Repos\\hostel-chakra\\Hostel\\src\\Components\\RegisterButton.tsx",[],["301","302"],"E:\\Repos\\hostel-chakra\\Hostel\\src\\Components\\RegisterForm.tsx",["303"],"import { Box, Button, Collapse, FormControl, HStack, Input, PinInput, PinInputField, Select, VStack } from '@chakra-ui/react';\r\nimport React from 'react'\r\nimport { FaArrowRight } from 'react-icons/fa';\r\n\r\ntype ActionType =\r\n    | { type: \"ChangeInput\"; country?: string; phone?: string }\r\n    | { type: \"RegisterPhone\" }\r\n    | { type: \"CheckPincode\" }\r\n    | { type: \"RegisterDetail\"; name: string; email: string; password: string }\r\n    | { type: \"SetLoading\"; isLoading: boolean }\r\n    | { type: \"ResetForm\"; }\r\n\r\n\r\ntype FormState = {\r\n    country?: string;\r\n    phone?: string;\r\n    name?: string;\r\n    pincode?: string;\r\n    email?: string;\r\n    password?: string;\r\n}\r\n\r\ntype RegisterState = {\r\n    form?: FormState;\r\n    show: \"none\" | \"pin\" | \"detail\"\r\n    isLoading?: boolean;\r\n}\r\n\r\nconst reducer = (state: RegisterState, action: ActionType): RegisterState => {\r\n    switch (action.type) {\r\n        case \"ChangeInput\":\r\n            return {\r\n                ...state,\r\n                form: {\r\n                    ...state.form,\r\n                    country: action.country,\r\n                    phone: action.phone\r\n                }\r\n            }\r\n        case 'RegisterPhone':\r\n            return {\r\n                ...state,\r\n                show: 'pin',\r\n                isLoading: true,\r\n            }\r\n        case 'CheckPincode':\r\n            return {\r\n                ...state,\r\n                show: 'detail',\r\n                isLoading: true\r\n            }\r\n        case 'RegisterDetail':\r\n            return {\r\n                ...state,\r\n            }\r\n        case \"SetLoading\":\r\n            return {\r\n                ...state,\r\n                isLoading: action.isLoading,\r\n            }\r\n        case \"ResetForm\":\r\n            return initialState;\r\n\r\n        default:\r\n            return {\r\n                ...state,\r\n            }\r\n    }\r\n}\r\n\r\nconst getRandomInt = (min: number, max: number) => {\r\n    min = Math.ceil(min);\r\n    max = Math.floor(max);\r\n    return Math.floor(Math.random() * (max - min) + min);\r\n}\r\n\r\nconst fetchPincode = async (phone: number) => {\r\n    setTimeout(() => {\r\n        return getRandomInt(1000, 9999);\r\n    }, 1000);\r\n}\r\n\r\nconst CheckPin = (pin: string) => {\r\n    return new Promise<boolean>((resolve, reject) => {\r\n        if (pin.length === 4)\r\n            setTimeout(() => { resolve(true) }, 1000);\r\n        else\r\n            setTimeout(() => { reject(\"Pin not correct\") }, 1000);\r\n    })\r\n}\r\n\r\nconst initialState: RegisterState = {\r\n    form: {},\r\n    isLoading: false,\r\n    show: \"none\"\r\n}\r\n\r\nconst RegisterForm: React.FC = ({ children }) => {\r\n    const [countries, setCountries] = React.useState<string[]>();\r\n    const [state, dispatch] = React.useReducer(reducer, initialState);\r\n\r\n    // fetching countries\r\n    React.useEffect(() => {\r\n        setCountries(defaultCountries);\r\n    }, [])\r\n\r\n    const handleRegisterButton = async (pin?: string) => {\r\n        if (state.show === \"none\") {\r\n            dispatch({ type: 'RegisterPhone' })\r\n            // send to api server\r\n            setTimeout(() => {\r\n                dispatch({ type: 'SetLoading', isLoading: false })\r\n            }, 1000)\r\n        }\r\n\r\n        else if (state.show === \"pin\" && pin !== undefined) {\r\n            dispatch({ type: 'SetLoading', isLoading: true })\r\n            CheckPin(pin).then(res => {\r\n                if (res === true) {\r\n                    console.log(\"Pincode correct\");\r\n                    dispatch({ type: 'CheckPincode' })\r\n                }\r\n                else {\r\n                    console.log(\"Pincode not correct\");\r\n                }\r\n            }).catch((r) => {\r\n                console.log(r);\r\n            }).finally(() => {\r\n                dispatch({ type: 'SetLoading', isLoading: false })\r\n            })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <FormControl d=\"flex\" flexDir=\"column\">\r\n            <Select borderBottomRadius=\"0\" isDisabled={state.show !== \"none\"} onChange={(e) => dispatch({ type: 'ChangeInput', country: e.target.value, phone: state.form?.phone })} size=\"lg\" isRequired placeholder=\"Choose your country\">\r\n                {countries?.map((c, index) => {\r\n                    return <option value={c} key={index}>{c}</option>\r\n                })}\r\n            </Select>\r\n            <Input borderTopRadius=\"0\" placeholder=\"Phone number\" isDisabled={state.show !== \"none\"} size=\"lg\" value={state.form?.phone} onChange={(e) => dispatch({ type: 'ChangeInput', phone: e.target.value, country: state.form?.country })} />\r\n\r\n            <Collapse in={state.show === \"pin\"}>\r\n                <VStack spacing=\"1\" my=\"2\">\r\n                    <Box as=\"h2\"> We've sent you a verification code</Box>\r\n                    <HStack>\r\n                        <PinInput value={state.form?.pincode} isDisabled={state.isLoading} onComplete={(value) => handleRegisterButton(value)}>\r\n                            <PinInputField />\r\n                            <PinInputField />\r\n                            <PinInputField />\r\n                            <PinInputField />\r\n                        </PinInput>\r\n                    </HStack>\r\n                </VStack>\r\n            </Collapse>\r\n\r\n            <Collapse in={state.show === \"detail\"}>\r\n                <Box my=\"2\">\r\n                    <Input borderBottomRadius=\"0\" size=\"lg\" placeholder=\"Your name\" />\r\n                    <Input borderRadius=\"0\" size=\"lg\" placeholder=\"Email address\" />\r\n                    <Input borderTopRadius=\"0\" size=\"lg\" placeholder=\"Password\" />\r\n                </Box>\r\n            </Collapse>\r\n\r\n            <Button my=\"3\" w=\"30%\" rounded=\"full\" type=\"submit\" alignSelf=\"center\" isLoading={state.isLoading}\r\n                isDisabled={((state.form?.phone !== undefined && state.form?.phone !== \"\")\r\n                    && (state.form?.country != null && state.form?.country !== \"\")) ? false : true}\r\n                title=\"Next step\" onClick={() => handleRegisterButton()}\r\n            >\r\n                <FaArrowRight />\r\n            </Button>\r\n            {/* <Button alignSelf=\"flex-end\" variant=\"ghost\" colorScheme=\"red\" onClick={() => dispatch({ type: \"ResetForm\" })}>Reset</Button> */}\r\n\r\n        </FormControl>\r\n    )\r\n}\r\n\r\nconst defaultCountries: string[] = [\r\n    \"Russia\", \"Vietnam\"\r\n]\r\n\r\nexport default RegisterForm;","E:\\Repos\\hostel-chakra\\Hostel\\src\\Contexts\\AuthContext.tsx",["304","305"],"import { useToast } from '@chakra-ui/toast';\r\nimport { AxiosResponse } from 'axios';\r\nimport jwtDecode, { JwtPayload } from 'jwt-decode';\r\nimport React from 'react';\r\nimport { useMutation, useQueryClient } from 'react-query';\r\nimport { authenticate, register, validateToken } from '../API';\r\n\r\ninterface UserTokenPayload extends JwtPayload {\r\n    roles: string[] | string;\r\n    email: string;\r\n    name: string;\r\n}\r\n\r\ntype AuthContextStates = {\r\n    loginAsync: (request: LoginRequest) => any\r\n    registerAsync: (request: RegisterRequest) => any\r\n    logoutAsync: () => Promise<void>;\r\n    updateToken: (token: string) => void;\r\n    user?: UserResponse;\r\n    isLoading: boolean;\r\n}\r\n\r\nexport const AuthContext = React.createContext<AuthContextStates>({} as AuthContextStates);\r\n\r\nexport const AuthProvider: React.FC = ({ children }) => {\r\n    const [isLoading, setIsLoading] = React.useState<boolean>(false);\r\n    const [user, setUser] = React.useState<UserResponse | undefined>(undefined);\r\n    const [token, setToken] = React.useState(localStorage.getItem(\"token\"));\r\n\r\n    const queryClient = useQueryClient();\r\n\r\n    const toast = useToast();\r\n\r\n    /**\r\n     * Check for token in localStorage\r\n     */\r\n    React.useEffect(() => {\r\n        const tokenStorage = localStorage.getItem(\"token\");\r\n        if (tokenStorage) {\r\n            validateToken(tokenStorage).then(res => {\r\n                console.log(\"validating...\")\r\n                if (res.status !== 200) return logoutAsync(\"Token expired\");\r\n            })\r\n            setToken(tokenStorage);\r\n        }\r\n    }, [])\r\n\r\n    /**\r\n     * If token changes, update user and axios.interceptor\r\n     */\r\n    React.useEffect(() => {\r\n        if (token) {\r\n            const decodedUser = jwtDecode<UserTokenPayload>(token);\r\n            setUser({\r\n                email: decodedUser.email,\r\n                name: decodedUser.name,\r\n                roles: decodedUser.roles,\r\n                token: token\r\n            })\r\n        }\r\n    }, [token]);\r\n\r\n    const updateToken = (token: string) => {\r\n        setToken(token);\r\n    }\r\n\r\n\r\n    // TODO: fix token validation\r\n    // const validation = useQuery([\"validateToken\", user?.token], () => {\r\n    //     if (user?.token) return validateToken(user?.token)\r\n    // }, {\r\n    //     refetchInterval: 1000 * 60,\r\n    //     staleTime: 1000 * 60 * 60 * 24,\r\n    //     onSuccess: () => {\r\n    //         axios.interceptors.request.use((config) => {\r\n    //             if (user?.token) {\r\n    //                 config.headers.Authorization = `Bearer ${user.token}`;\r\n    //             }\r\n    //             return config;\r\n    //         }, (e) => {\r\n    //             return Promise.reject(e);\r\n    //         })\r\n    //     }\r\n    // })\r\n\r\n    const mutateLogin = useMutation<AxiosResponse<UserResponse>, any, LoginRequest>(authenticate, {\r\n        onSuccess: (res) => {\r\n            setToken(res.data.token);\r\n            localStorage.setItem(\"token\", res.data.token);\r\n            toast({ description: \"Logged in successfully\", status: \"success\", duration: 3000 });\r\n        },\r\n        onError: (res) => { toast({ description: res.data.message, status: \"error\", duration: 3000 }) },\r\n        onSettled: () => setIsLoading(false)\r\n    })\r\n\r\n    const mutateRegister = useMutation<AxiosResponse<UserResponse>, any, RegisterRequest>(register, {\r\n        onSuccess: (res) => {\r\n            // setUser(res.data);\r\n            setToken(res.data.token);\r\n            localStorage.setItem(\"token\", res.data.token);\r\n            toast({ description: \"Logged in successfully\", status: \"success\", duration: 3000 });\r\n        },\r\n        onError: (res) => {\r\n            console.log(res.data);\r\n            for (let i = 0; i < res.data.messages.length; i++) {\r\n                toast({ description: res.data.messages[i], status: \"error\", duration: 3000 })\r\n            }\r\n        },\r\n        onSettled: () => setIsLoading(false)\r\n    })\r\n\r\n    const logoutAsync = async (msg?: string) => {\r\n        await new Promise(resolve => setTimeout(resolve, 1000));\r\n        setUser(undefined);\r\n        setToken(null);\r\n        localStorage.removeItem(\"token\");\r\n        toast({\r\n            title: msg ? msg : \"Logged out successfully!\",\r\n            isClosable: true,\r\n            duration: 3000,\r\n            status: \"success\"\r\n        })\r\n        await new Promise(resolve => setTimeout(resolve, 500));\r\n    }\r\n\r\n    const loginAsync = async (request: LoginRequest) => {\r\n        setIsLoading(true);\r\n        await new Promise(resolve => setTimeout(resolve, 1000));\r\n        try {\r\n            mutateLogin.mutate(request);\r\n        }\r\n        catch (e) {\r\n            console.log(e);\r\n        }\r\n        finally {\r\n            setIsLoading(false);\r\n        }\r\n    }\r\n\r\n    const registerAsync = async (request: RegisterRequest) => {\r\n        setIsLoading(true);\r\n        await new Promise(resolve => setTimeout(resolve, 1000));\r\n        try {\r\n            mutateRegister.mutate(request);\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n        finally {\r\n            setIsLoading(false);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <AuthContext.Provider value={{\r\n            loginAsync: loginAsync,\r\n            logoutAsync: logoutAsync,\r\n            updateToken: updateToken,\r\n            isLoading: isLoading,\r\n            user: user,\r\n            registerAsync: registerAsync\r\n        }}>\r\n            {children}\r\n        </AuthContext.Provider>\r\n    )\r\n}","E:\\Repos\\hostel-chakra\\Hostel\\src\\Components\\LoginForm.tsx",["306","307","308","309","310","311"],"import { Box, FormControl, FormLabel, Input, Button, Checkbox, FormErrorMessage, chakra, useDisclosure, Collapse } from '@chakra-ui/react';\r\nimport React from 'react'\r\nimport { FaArrowRight } from 'react-icons/fa';\r\nimport { useHistory } from 'react-router';\r\nimport { AuthContext } from '../Contexts/AuthContext';\r\n\r\ntype LoginFormProps = {\r\n    initRef?: React.RefObject<HTMLInputElement>;\r\n    fromUrl?: string;\r\n    isRegistering: boolean;\r\n}\r\n\r\ntype FormState = {\r\n    email?: string;\r\n    password?: string;\r\n    confirmedPassword?: string;\r\n    remember: boolean;\r\n    isRegistering: boolean;\r\n}\r\n\r\nfunction validateEmail(email: string | undefined) {\r\n    if (!email) return false;\r\n    const re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    return re.test(email);\r\n}\r\n\r\n\r\nconst LoginForm: React.FC<LoginFormProps> = ({ initRef, fromUrl, isRegistering }) => {\r\n    const history = useHistory();\r\n\r\n    const [loginForm, setLoginForm] = React.useState<FormState>({\r\n        remember: false,\r\n        isRegistering: isRegistering\r\n    });\r\n\r\n    const [emailError, setEmailError] = React.useState(false);\r\n    const [passwordError, setPasswordError] = React.useState(false);\r\n    const [confirmPasswordError, setConfirmPasswordError] = React.useState(false);\r\n\r\n    const validateForm = (email: string | undefined, password: string | undefined) => {\r\n        if (validateEmail(email)) {\r\n            setEmailError(false);\r\n        } else setEmailError(true);\r\n        if (password === \"\") {\r\n            setPasswordError(true)\r\n        } else setPasswordError(false);\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        validateForm(loginForm.email, loginForm.password);\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [loginForm.email, loginForm.password])\r\n\r\n    React.useEffect(() => {\r\n        if (loginForm.isRegistering && loginForm.confirmedPassword === loginForm.password) {\r\n            console.log(loginForm.password);\r\n            console.log(loginForm.confirmedPassword);\r\n\r\n            setConfirmPasswordError(false);\r\n            console.log(confirmPasswordError);\r\n        } else setConfirmPasswordError(true);\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [loginForm.confirmedPassword, loginForm.isRegistering, loginForm.password])\r\n\r\n    const authContext = React.useContext(AuthContext);\r\n\r\n    const handleLogin = () => {\r\n        authContext.loginAsync(loginForm);\r\n        if (fromUrl) history.replace(fromUrl);\r\n    }\r\n\r\n    const handleRegister = () => {\r\n        authContext.registerAsync({ email: loginForm.email, password: loginForm.password, confirmPassword: loginForm.confirmedPassword });\r\n        if (fromUrl) history.replace(fromUrl);\r\n    }\r\n\r\n    const toggleMode = () => {\r\n        setLoginForm((s) => ({\r\n            ...s,\r\n            isRegistering: !s.isRegistering\r\n        }))\r\n    }\r\n\r\n    return (\r\n        <chakra.form d=\"flex\" flexDir=\"column\">\r\n            <FormControl isInvalid={emailError}>\r\n                <FormLabel htmlFor=\"email\">Email</FormLabel>\r\n                <Input placeholder=\"Enter your email\" id=\"email\" isInvalid={emailError} ref={initRef} variant=\"filled\" size=\"lg\" type=\"email\"\r\n                    value={loginForm.email} isRequired\r\n                    onChange={(e) => setLoginForm(s => ({\r\n                        ...s,\r\n                        email: e.target.value.trim()\r\n                    }))}></Input>\r\n                <FormErrorMessage>{\"Email not correct\"}</FormErrorMessage>\r\n            </FormControl>\r\n\r\n            <FormControl isInvalid={passwordError}>\r\n                <FormLabel htmlFor=\"password\" my=\"2\">Password</FormLabel>\r\n                <Input placeholder=\"Enter your password\" id=\"password\" isInvalid={passwordError} variant=\"filled\" size=\"lg\" type=\"password\"\r\n                    value={loginForm.password} minLength={1} isRequired\r\n                    onChange={(e) => setLoginForm(s => ({\r\n                        ...s,\r\n                        password: e.target.value\r\n                    }))}></Input>\r\n            </FormControl>\r\n\r\n            <Collapse in={loginForm.isRegistering}>\r\n                <FormControl isInvalid={confirmPasswordError}>\r\n                    <FormLabel htmlFor=\"confirm-password\" my=\"2\">Confirm Password</FormLabel>\r\n                    <Input placeholder=\"Confirm your password\" id=\"confirm-password\" isInvalid={confirmPasswordError} variant=\"filled\" size=\"lg\" type=\"password\"\r\n                        value={loginForm.confirmedPassword} minLength={1} isRequired\r\n                        onChange={(e) => setLoginForm(s => ({\r\n                            ...s,\r\n                            confirmedPassword: e.target.value\r\n                        }))}></Input>\r\n                </FormControl>\r\n                <FormErrorMessage>{\"Password does not match\"}</FormErrorMessage>\r\n            </Collapse>\r\n\r\n            <Checkbox size=\"lg\" checked={loginForm.remember} mt=\"2\"\r\n                onChange={(e) => setLoginForm(s => ({ ...s, remember: e.target.checked }))}>\r\n                Remember me\r\n                </Checkbox>\r\n\r\n            <Button my=\"3\" w=\"30%\" rounded=\"full\" type=\"submit\" alignSelf=\"center\" title=\"Login\"\r\n                isLoading={authContext.isLoading}\r\n                isDisabled={loginForm.isRegistering ? emailError || passwordError || confirmPasswordError : emailError || passwordError}\r\n                onClick={!loginForm.isRegistering ? handleLogin : handleRegister}>\r\n                <FaArrowRight />\r\n            </Button>\r\n\r\n            <Button variant=\"link\" alignSelf=\"center\" textStyle=\"\" onClick={() => toggleMode()}>{!loginForm.isRegistering ? \"Register your account!\" : \"Or login instead!\"}</Button >\r\n        </chakra.form>\r\n    );\r\n}\r\n\r\nexport default LoginForm;","E:\\Repos\\hostel-chakra\\Hostel\\src\\Pages\\ProfilePage.tsx",["312","313","314","315"],"import { Avatar, Box, BoxProps, Button, Divider, Flex, Grid, Icon, IconButton, ListItem, Modal, ModalBody, ModalContent, ModalHeader, ModalOverlay, ModalProps, SimpleGrid, Spacer, Textarea, UnorderedList, useColorModeValue, useDisclosure, VStack } from '@chakra-ui/react';\r\nimport React from 'react'\r\nimport { BsStar, BsStarFill } from 'react-icons/bs';\r\nimport { FaCheck, FaStar, FaUserShield } from 'react-icons/fa';\r\nimport { useQuery } from 'react-query';\r\nimport { useLocation } from 'react-router';\r\nimport { fetchPropertiesSaved, fetchUserReservation, toggleLike } from '../API';\r\nimport RoomCard from '../Components/FilterComponents/RoomCard';\r\nimport { AuthContext } from '../Contexts/AuthContext';\r\n\r\nconst useQueryParam = () => {\r\n    return new URLSearchParams(useLocation().search);\r\n}\r\n\r\nconst ProfilePage = () => {\r\n    const { user } = React.useContext(AuthContext);\r\n\r\n    let query = useQueryParam();\r\n    let view = query.get(\"view\")?.toLowerCase();\r\n\r\n    return (\r\n        <Box d=\"flex\" flexDir={{ base: \"column\", md: \"row\" }}>\r\n            {/* LEFT */}\r\n            <Box w={{ base: \"100%\", md: \"25%\" }} minW=\"300px\">\r\n                <Box d=\"flex\" overflow=\"hidden\" borderWidth=\"1px\" borderRadius=\"lg\" p=\"4\" flexDir={{ base: \"row-reverse\", md: \"column\" }} spacing=\"2\">\r\n                    <VStack alignSelf=\"center\" justifySelf=\"start\">\r\n                        <Avatar name={user?.name} boxSize={{ base: \"20\", md: \"40\" }}></Avatar>\r\n                        <Button variant=\"link\" my=\"2\" fontSize=\"sm\">Update photo</Button>\r\n                    </VStack>\r\n\r\n                    <VStack alignItems=\"start\" spacing=\"2\">\r\n                        <Icon as={FaUserShield} boxSize=\"8\" />\r\n                        <Box as=\"h4\" fontWeight=\"bold\" fontSize=\"lg\" fontFamily=\"mono\">Identity verification</Box>\r\n                        <Box as=\"h4\">Show others you’re really you with the identity verification badge.</Box>\r\n\r\n                        <Divider />\r\n\r\n                        <Box as=\"h4\" fontWeight=\"bold\" fontSize=\"lg\" fontFamily=\"mono\">{user?.name + \" confirmed\"}</Box>\r\n                        <Box d=\"flex\" flexDir=\"row\" alignItems=\"baseline\">\r\n                            <FaCheck />\r\n                            <Box as=\"h4\" ml=\"4\">Email confirmed</Box>\r\n                        </Box>\r\n                        <Box d=\"flex\" flexDir=\"row\" alignItems=\"baseline\">\r\n                            <FaCheck />\r\n                            <Box as=\"h4\" ml=\"4\">Phone confirmed</Box>\r\n                        </Box>\r\n                    </VStack>\r\n                </Box>\r\n            </Box>\r\n\r\n            <Spacer minW=\"2\" />\r\n\r\n            {/* RIGHT */}\r\n            <Box w={{ base: \"100%\", md: \"65%\" }}>\r\n                {(view === \"likes\" || view == null) && <UserLikesProperties></UserLikesProperties>}\r\n                {view === \"notifications\" && <Notifications></Notifications>}\r\n                {view === \"reservations\" && <Reservations></Reservations>}\r\n            </Box>\r\n        </Box>\r\n    )\r\n}\r\n\r\n\r\ntype ReviewModalProps = {\r\n    reservationId: string;\r\n    propId: string;\r\n}\r\nconst ReviewModal = (modalProps: ModalProps & ReviewModalProps) => {\r\n    const [starHover, setStarHover] = React.useState(0);\r\n    const [starReview, setStarReview] = React.useState(0);\r\n    const starColor = useColorModeValue(\"red\", \"yellow\");\r\n\r\n    const { onClose } = modalProps;\r\n\r\n    return (\r\n        <Modal {...modalProps} onClose={() => { setStarReview(0); onClose(); }}>\r\n            <ModalOverlay />\r\n            <ModalContent>\r\n                <ModalHeader>Write a review</ModalHeader>\r\n                <ModalBody>\r\n                    <Flex flexDir=\"column\" gridGap=\"2\">\r\n                        <Box>\r\n                            {Array(5).fill(5).map((_, index) => {\r\n                                return (\r\n                                    <IconButton variant=\"ghost\" aria-label=\"star\" key={index}\r\n                                        onClick={() => { setStarReview(index + 1) }}\r\n                                        _focus={{ borderWidth: \"1px\" }}\r\n                                        borderRadius=\"full\" onMouseOver={() => setStarHover(index + 1)} onMouseLeave={() => setStarHover(0)}\r\n                                        icon={starHover > index || starReview > index ? <BsStarFill color={starColor} /> : <BsStar />} />)\r\n                            })}\r\n                        </Box>\r\n                        <Textarea size=\"md\" placeholder=\"Please describe some of your thoughts\" />\r\n                        <Button ml=\"auto\" isDisabled={starReview <= 0}>Send</Button>\r\n                    </Flex>\r\n                </ModalBody>\r\n            </ModalContent>\r\n        </Modal>\r\n    )\r\n}\r\n\r\nconst Reservations = (boxprops: BoxProps) => {\r\n    const reviewModal = useDisclosure();\r\n    const auth = React.useContext(AuthContext)\r\n\r\n    const { data, error, isError } = useQuery([\"reservations\", auth.user?.token], fetchUserReservation, {\r\n        onSuccess: (res) => {\r\n            console.log(res);\r\n        },\r\n        retry: 2,\r\n    })\r\n\r\n    if (data?.data.length === 0) {\r\n        return <Box>\r\n            You don't have any reservations\r\n        </Box>\r\n    }\r\n\r\n    if (isError) return <Box>Something's wrong</Box>\r\n\r\n    return <Box>\r\n        <Flex gridGap=\"2\" flexDir=\"column\">\r\n            <Box as={\"h1\"} fontFamily={\"heading\"} fontWeight=\"bold\" fontSize=\"4xl\" mb=\"3\">Your reservations</Box>\r\n            {data?.data.map(d =>\r\n                <Box borderWidth=\"1px\" p=\"2\"\r\n                    style={{ transition: \"ease 0.3s\" }}\r\n                    _hover={{ transform: \"scale(1.02)\" }}\r\n                    // eslint-disable-next-line react-hooks/rules-of-hooks\r\n                    bg={useColorModeValue('gray.100', 'gray.800')}\r\n                    borderRadius=\"10px\"\r\n                >\r\n                    <Flex key={d.id} w=\"100%\" flexDir=\"row\" gridGap=\"2\">\r\n                        <Flex w=\"100%\" flexDir=\"column\" gridGap=\"2\">\r\n                            <UnorderedList h=\"100%\">\r\n                                <Grid h=\"100%\" fontWeight=\"bold\" gridTemplateColumns={{ base: \"1fr\", md: \"1fr 1fr\" }} templateRows=\"auto\">\r\n                                    <ListItem><Box as=\"h3\">From Date: </Box></ListItem>\r\n                                    <Box fontWeight=\"light\">{d.fromDate}</Box>\r\n                                    <ListItem><Box as=\"h3\">To Date: </Box></ListItem>\r\n                                    <Box fontWeight=\"light\">{d.toDate}</Box>\r\n                                    <ListItem><Box as=\"h3\">Total Cost: </Box></ListItem>\r\n                                    <Box fontWeight=\"light\">{d.total}</Box>\r\n                                    <ListItem><Box as=\"h3\">Reserved from: </Box></ListItem>\r\n                                    <Box fontWeight=\"light\">{d.createdAt}</Box>\r\n                                    <ListItem><Box as=\"h3\">Reservations Status: </Box></ListItem>\r\n                                    <Box fontWeight=\"light\">{d.reservationStatus}</Box>\r\n                                    <ListItem><Box as=\"h3\">Payment Status: </Box></ListItem>\r\n                                    <Box fontWeight=\"light\">{d.paymentStatus}</Box>\r\n                                </Grid>\r\n                            </UnorderedList>\r\n\r\n                            <Button colorScheme=\"green\" onClick={() => reviewModal.onOpen()}>Write a review</Button>\r\n\r\n                            <Button colorScheme=\"red\" isDisabled={d.reservationStatus.toLowerCase() !== \"on reserved\"}>Cancel reservation</Button>\r\n                        </Flex>\r\n                        <Box ml=\"auto\" >\r\n                            <Divider orientation=\"vertical\" borderColor=\"currentcolor\" />\r\n                        </Box>\r\n                        <RoomCard room={d.property} isSaved={true} flex='0 0 15em' borderWidth=\"0px\" />\r\n                    </Flex>\r\n                </Box>\r\n            )}\r\n            <ReviewModal isOpen={reviewModal.isOpen} isCentered onClose={reviewModal.onClose} reservationId=\"\" propId=\"\">\r\n            </ReviewModal>\r\n        </Flex>\r\n    </Box>\r\n}\r\n\r\nconst UserLikesProperties = () => {\r\n    const { data } = useQuery(\"propertiesLiked\", () => fetchPropertiesSaved(), {\r\n        onSuccess: (res) => {\r\n        },\r\n        refetchOnMount: \"always\",\r\n    })\r\n\r\n    if (data?.data.length === 0) return <Box>Looks like you didn't save any room</Box>\r\n\r\n    return (\r\n        <Box>\r\n            <Box as={\"h1\"} fontFamily={\"heading\"} fontWeight=\"bold\" fontSize=\"4xl\" mb=\"3\">Rooms that you saved</Box>\r\n            <SimpleGrid spacing=\"4\" columns={{ base: 1, lg: 2 }}>\r\n                {data?.data.map(r => <RoomCard room={r} key={r.id} isSaved={true} />)}\r\n            </SimpleGrid>\r\n        </Box>\r\n    );\r\n}\r\n\r\nconst Notifications: React.FC = () => {\r\n    return (\r\n        <Box>Notification</Box>\r\n    )\r\n}\r\n\r\nexport default ProfilePage;\r\n\r\nconst defaultRoom: RoomCard = {\r\n    id: \"random-id-12321\",\r\n    name: \"Crystal palace\",\r\n    thumbnailUrl: \"https://picsum.photos/1100/1000?random=1\",\r\n    thumbnailAlt: \"rear view house with pool\",\r\n    description: \"Best place in townBest place in townBest place in townBest \",\r\n    location: \"Dark side, the moon\",\r\n    totalReview: 4,\r\n    totalStar: 23,\r\n    formattedPrice: 2021.00,\r\n    services: [\"Pet\", \"Kitchen\", \"Breakfast\", \"Wifi\"]\r\n}\r\n\r\nconst defaultRooms: Array<RoomCard> = [\r\n    { ...defaultRoom, thumbnailUrl: \"https://picsum.photos/1100/1000?random=1\" },\r\n    { ...defaultRoom, thumbnailUrl: \"https://picsum.photos/1100/1000?random=2\" },\r\n    { ...defaultRoom, thumbnailUrl: \"https://picsum.photos/1100/1000?random=3\" },\r\n    { ...defaultRoom, thumbnailUrl: \"https://picsum.photos/1100/1000?random=4\" },\r\n    { ...defaultRoom, thumbnailUrl: \"https://picsum.photos/1100/1000?random=5\" },\r\n]","E:\\Repos\\hostel-chakra\\Hostel\\src\\Pages\\PublishRoomPage.tsx",["316","317","318"],"import { FormControl, FormLabel } from '@chakra-ui/form-control';\r\nimport { Input } from '@chakra-ui/input';\r\nimport { Box, BoxProps, Divider, SimpleGrid, VStack, Link, Flex, Spacer } from '@chakra-ui/layout';\r\nimport { Button, chakra, IconButton, NumberInput, NumberInputField, Slider, SliderFilledTrack, SliderThumb, SliderTrack, Switch, useToast } from '@chakra-ui/react';\r\nimport { Select } from '@chakra-ui/select';\r\nimport { Textarea } from '@chakra-ui/textarea';\r\nimport React, { FC } from 'react'\r\nimport { FaMinus, FaPlus } from 'react-icons/fa';\r\nimport { useMutation, useQuery } from 'react-query';\r\nimport { Link as RouterLink, SwitchProps } from 'react-router-dom';\r\nimport { deleteImage, fetchCities, fetchPropertyTypes, postImage, postRoom } from '../API';\r\nimport { CityResponse } from '../Components/NavComponents/SearchBar';\r\n\r\n\r\ntype Country = {\r\n    id: string;\r\n    countryName: string;\r\n}\r\n\r\nconst getUniqeCountries = (res: CityResponse[]) => {\r\n    let countries: Country[] = [];\r\n    let indexes = new Set<string>();\r\n    for (let i of res) {\r\n        if (!indexes.has(i.countryId)) {\r\n            countries.push({ id: i.countryId, countryName: i.countryName });\r\n        }\r\n        indexes.add(i.countryId);\r\n    }\r\n    console.log(countries);\r\n    return countries;\r\n}\r\n\r\nconst PublishRoomPage: FC<BoxProps> = ({ ...props }) => {\r\n    const toast = useToast();\r\n    const [countries, setCountries] = React.useState<Country[]>();\r\n\r\n    const [room, setRoom] = React.useState<PublishRoomState>({\r\n        cityId: \"1\",\r\n        countryId: \"\",\r\n        description: \"Test description\",\r\n        images: [\r\n            {\r\n                url: \"https://picsum.photos/1100/1000?random=1\",\r\n                alt: \"alt\",\r\n                deleteHash: \"delHash\"\r\n            },\r\n            {\r\n                url: \"https://picsum.photos/1100/1000?random=2\",\r\n                alt: \"alt\",\r\n                deleteHash: \"delHash\"\r\n            },\r\n            {\r\n                url: \"https://picsum.photos/1100/1000?random=3\",\r\n                alt: \"alt\",\r\n                deleteHash: \"delHash\"\r\n            }\r\n        ],\r\n        maxGuest: 0,\r\n        propTypeId: \"\",\r\n        introdution: \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Architecto minus ad assumenda dignissimos. Perferendis optio est nam accusamus aliquid voluptas?\",\r\n        name: \"Lorem ipsum\",\r\n        refundPercent: 100,\r\n        number: \"12\",\r\n        streetName: \"Street asdfgg\",\r\n        services: {\r\n            breakfast: true,\r\n            kitchen: false,\r\n            parking: true,\r\n            pet: false,\r\n            wifi: true\r\n        },\r\n        basePrice: 250,\r\n        cleaningFee: 10,\r\n        serviceFee: 0\r\n    });\r\n\r\n    React.useEffect(() => { console.log(room.cityId) }, [room])\r\n\r\n    const { data: resCities, isLoading, status } = useQuery<unknown, unknown, CityResponse[]>(\"cities\", fetchCities, {\r\n        staleTime: 1000 * 60 * 10,\r\n        onSuccess: (res) => {\r\n            console.log(res);\r\n            setCountries(getUniqeCountries(res));\r\n        }\r\n    });\r\n\r\n    const { data: resTypes, isError } = useQuery<unknown, unknown, PropertyTypeType[]>(\"propertypeList\", fetchPropertyTypes, {\r\n        staleTime: 1000 * 60 * 10\r\n    });\r\n\r\n    const publish = useMutation(postRoom, {\r\n        onSuccess: (res) => {\r\n            toast({ description: res.data, status: \"success\" })\r\n        },\r\n        onError: (err) => {\r\n            console.log(err);\r\n            toast({ description: \"Something's wrong\", status: \"error\" })\r\n        },\r\n    })\r\n\r\n    const handlePublish = (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\r\n        e.preventDefault();\r\n        publish.mutate(room);\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        return function cleanup() { localStorage.removeItem(\"previewRoom\"); }\r\n    }, [])\r\n\r\n    const handleImagesInput = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        if (e.target.files != null) {\r\n            const files = Array.from(e.target.files);\r\n            const formData = new FormData();\r\n\r\n            formData.append(\"image\", files[0]);\r\n            postImage(formData).then((msg) => msg.data).catch(e => console.log(e));\r\n            deleteImage(\"\").then(msg => console.log(msg.data));\r\n        }\r\n    }\r\n\r\n    return (\r\n        <chakra.form>\r\n            <Box d='flex' flexDir=\"column\" mt=\"10\" {...props}>\r\n                <VStack spacing=\"8\" w=\"75%\" alignSelf=\"center\">\r\n                    <Box as=\"h1\" fontSize=\"3xl\" fontWeight=\"bold\" alignSelf=\"start\">Publish your new property</Box>\r\n                    <Divider borderColor=\"currentcolor\" />\r\n\r\n                    {/* Property info */}\r\n                    <Box d={{ base: \"inline-block\", lg: \"flex\" }} flexDir=\"row\" w=\"100%\" fontWeight=\"medium\">\r\n                        <Box as=\"h2\" fontSize=\"lg\" w={{ base: \"100%\", lg: \"30%\" }} mb=\"5\">Property info</Box>\r\n\r\n                        <VStack alignItems=\"start\" w=\"100%\">\r\n                            <FormControl isRequired id=\"prop-name\">\r\n                                <FormLabel as=\"h2\" fontSize=\"md\">Property Name</FormLabel>\r\n                                <Input variant=\"filled\" required\r\n                                    value={room.name}\r\n                                    onChange={(e) =>\r\n                                        setRoom(r => ({\r\n                                            ...r,\r\n                                            name: e.target.value\r\n                                        }))\r\n                                    }\r\n                                />\r\n                            </FormControl>\r\n                            <FormControl isRequired id=\"prop-type\">\r\n                                <FormLabel as=\"h2\" fontSize=\"md\">Property's Type</FormLabel>\r\n                                <Select variant=\"filled\" placeholder=\"--Choose your property type--\"\r\n                                    onChange={(e) => setRoom((r) => ({ ...r, propTypeId: e.target.value, cityId: \"\" }))}\r\n                                >\r\n                                    {resTypes?.map(rt => {\r\n                                        return <option value={rt.id} key={rt.id}>{rt.propertyType}</option>\r\n                                    })}\r\n                                </Select>\r\n                            </FormControl>\r\n                            <FormControl isRequired id=\"prop-description\">\r\n                                <FormLabel as=\"h2\" fontSize=\"md\">Description</FormLabel>\r\n                                <Input variant=\"filled\" required\r\n                                    value={room.description}\r\n                                    onChange={(e) => setRoom((r) => ({ ...r, description: e.target.value }))}\r\n                                />\r\n                            </FormControl>\r\n                            <FormControl isRequired id=\"prop-introduction\">\r\n                                <FormLabel as=\"h2\" fontSize=\"md\">Introduction</FormLabel>\r\n                                <Textarea rows={4} required variant=\"filled\"\r\n                                    value={room.introdution}\r\n                                    onChange={(e) => setRoom((r) => ({ ...r, introdution: e.target.value }))}\r\n                                />\r\n                            </FormControl>\r\n                        </VStack>\r\n                    </Box>\r\n                    <Divider borderColor=\"currentcolor\" />\r\n\r\n                    {/* Location info */}\r\n                    <Box d={{ base: \"inline-block\", lg: \"flex\" }} flexDir=\"row\" w=\"100%\" fontWeight=\"medium\">\r\n                        <Box as=\"h2\" fontSize=\"lg\" w={{ base: \"100%\", lg: \"30%\" }} mb=\"5\">Location info</Box>\r\n                        <VStack alignItems=\"start\" w=\"100%\">\r\n                            <FormControl isRequired id=\"prop-country\">\r\n                                <FormLabel as=\"h2\" fontSize=\"md\">Country</FormLabel>\r\n                                <Select variant=\"filled\" placeholder=\"--Choose your country--\"\r\n                                    onChange={(e) => setRoom((r) => ({ ...r, countryId: e.target.value, cityId: \"\" }))}\r\n                                >\r\n                                    {countries?.map(c => {\r\n                                        return <option value={c.id} key={c.countryName}>{c.countryName}</option>\r\n                                    })}\r\n                                </Select>\r\n                            </FormControl>\r\n                            <FormControl isRequired id=\"prop-city\">\r\n                                <FormLabel as=\"h2\" fontSize=\"md\">City</FormLabel>\r\n                                <Select variant=\"filled\" placeholder=\"--Choose your city--\"\r\n                                    onChange={(e) => {\r\n                                        setRoom((r) => ({ ...r, cityId: e.target.value }))\r\n                                    }}\r\n                                >\r\n                                    {resCities?.filter(ct => ct.countryId === room.countryId).map(c => {\r\n                                        return <option value={c.id} key={c.id}>{c.cityName}</option>\r\n                                    })}\r\n                                </Select>\r\n                            </FormControl>\r\n                            <Flex gridGap=\"2\" w=\"100%\" flexDir={{ base: 'column', lg: \"row\" }}>\r\n                                <FormControl isRequired id=\"prop-street\" flex=\"0 1 60%\">\r\n                                    <FormLabel as=\"h2\" fontSize=\"md\">Street Name</FormLabel>\r\n                                    <Input required variant=\"filled\" value={room.streetName}\r\n                                        onChange={(e) => { setRoom((r) => ({ ...r, streetName: e.target.value })) }}\r\n                                    />\r\n                                </FormControl>\r\n                                <FormControl isRequired id=\"prop-number\" flex=\"0 1 40%\">\r\n                                    <FormLabel as=\"h2\" fontSize=\"md\">Property's number</FormLabel>\r\n                                    <Input required variant=\"filled\" value={room.number}\r\n                                        onChange={(e) => { setRoom((r) => ({ ...r, number: e.target.value })) }}\r\n                                    />\r\n                                </FormControl>\r\n                            </Flex>\r\n                            <FormControl id=\"prop-add-note\">\r\n                                <FormLabel as=\"h2\" fontSize=\"md\">Notes to client<Box as=\"span\" fontStyle=\"oblique\" fontWeight=\"light\">(optional)</Box></FormLabel>\r\n                                <Input variant=\"filled\" value={room.addressDesc}\r\n                                    onChange={(e) => { setRoom((r) => ({ ...r, addressDesc: e.target.value })) }}\r\n                                />\r\n                            </FormControl>\r\n                        </VStack>\r\n                    </Box>\r\n                    <Divider borderColor=\"currentcolor\" />\r\n\r\n                    {/* Images */}\r\n                    <Box d={{ base: \"inline-block\", lg: \"flex\" }} flexDir=\"row\" w=\"100%\" fontWeight=\"medium\" justifyContent=\"space-between\">\r\n                        <Box as=\"h2\" fontSize=\"lg\" w={{ base: \"100%\", lg: \"30%\" }} mb=\"5\" flexWrap=\"wrap\">\r\n                            <Box>Images</Box>\r\n                            <Box as=\"span\" fontStyle=\"oblique\" fontWeight=\"light\">{\" (At least 5 images)\"}</Box>\r\n                        </Box>\r\n                        <Input required variant=\"ghost\" type=\"file\" justifySelf=\"flex-end\" multiple accept=\"image/*\" onChange={(e) => handleImagesInput(e)} />\r\n                    </Box>\r\n                    <Divider borderColor=\"currentcolor\" />\r\n\r\n                    {/* Services */}\r\n                    <Box d={{ base: \"inline-block\", lg: \"flex\" }} flexDir=\"row\" w=\"100%\" fontWeight=\"medium\">\r\n                        <Box as=\"h2\" fontSize=\"lg\" w={{ base: \"100%\", lg: \"30%\" }} mb=\"5\">Services</Box>\r\n                        <Box w=\"100%\" >\r\n                            <SimpleGrid minChildWidth=\"12em\" spacingX=\"5rem\" spacingY=\"2\">\r\n                                <Flex gridGap=\"2\" alignItems=\"center\">\r\n                                    <Box as=\"h2\" fontSize=\"md\">\r\n                                        Max Guests\r\n                                </Box>\r\n                                    <Spacer />\r\n                                    <IconButton aria-label=\"Minus\" size=\"sm\" icon={<FaMinus />}\r\n                                        isDisabled={room.maxGuest <= 0}\r\n                                        onClick={() => setRoom((r) => ({ ...r, maxGuest: r.maxGuest-- }))}\r\n                                    />\r\n                                    <Box as=\"h3\" fontSize=\"md\" w=\"3ch\" textAlign=\"center\">\r\n                                        {room.maxGuest}\r\n                                    </Box>\r\n                                    <IconButton aria-label=\"Plus\" size=\"sm\" icon={<FaPlus />}\r\n                                        isDisabled={room.maxGuest >= 10}\r\n                                        onClick={() => setRoom((r) => ({ ...r, maxGuest: r.maxGuest++ }))}\r\n                                    />\r\n                                </Flex>\r\n                                <ServiceDisplay name=\"Wifi\"\r\n                                    isOn={room.services.wifi}\r\n                                    toggle={(checked) => { setRoom((r) => ({ ...r, services: ({ ...r.services, wifi: checked }) })) }}\r\n                                />\r\n                                <ServiceDisplay name=\"Kitchen\"\r\n                                    isOn={room.services.kitchen}\r\n                                    toggle={(checked) => { setRoom((r) => ({ ...r, services: ({ ...r.services, kitchen: checked }) })) }}\r\n                                />\r\n                                <ServiceDisplay name=\"Breakfast\"\r\n                                    isOn={room.services.breakfast}\r\n                                    toggle={(checked) => { setRoom((r) => ({ ...r, services: ({ ...r.services, breakfast: checked }) })) }}\r\n                                />\r\n                                <ServiceDisplay name=\"Pet Allow\"\r\n                                    isOn={room.services.pet}\r\n                                    toggle={(checked) => { setRoom((r) => ({ ...r, services: ({ ...r.services, pet: checked }) })) }}\r\n                                />\r\n                                <ServiceDisplay name=\"Free Parking\"\r\n                                    isOn={room.services.parking}\r\n                                    toggle={(checked) => { setRoom((r) => ({ ...r, services: ({ ...r.services, parking: checked }) })) }}\r\n                                />\r\n                            </SimpleGrid>\r\n                        </Box>\r\n                    </Box>\r\n                    <Divider borderColor=\"currentcolor\" />\r\n\r\n                    {/* Pricing */}\r\n                    <Box d={{ base: \"inline-block\", lg: \"flex\" }} flexDir=\"row\" w=\"100%\" fontWeight=\"medium\">\r\n                        <Box as=\"h2\" fontSize=\"lg\" w={{ base: \"100%\", lg: \"30%\" }} mb=\"5\">Pricing ($)</Box>\r\n                        <VStack alignItems=\"start\" w=\"100%\">\r\n                            <ServiceDisplay isOn={room.refundPercent === 100 ? true : false}\r\n                                name=\"Allow full refund\" size=\"lg\"\r\n                                toggle={(checked) => { setRoom((r) => ({ ...r, refundPercent: checked ? 100 : 80 })) }}\r\n                            />\r\n                            {room.refundPercent !== 100 &&\r\n                                <Box>\r\n                                    Amount refund: {room.refundPercent}%\r\n                                </Box>\r\n                            }\r\n                            <Slider value={room.refundPercent} min={0} max={100} step={5} colorScheme=\"blue\"\r\n                                onChange={(percent) => { setRoom((r) => ({ ...r, refundPercent: percent })) }}>\r\n                                <SliderTrack>\r\n                                    <SliderFilledTrack />\r\n                                </SliderTrack>\r\n                                <SliderThumb boxSize={6} />\r\n                            </Slider>\r\n                            <FormControl isRequired id=\"prop-price-base\" isInvalid={room.basePrice === 0 ? true : false}>\r\n                                <FormLabel opacity={room.basePrice === 0 ? 0.4 : 1} as=\"h2\" fontSize=\"md\">Base price</FormLabel>\r\n                                <NumberInput value={room.basePrice}\r\n                                    onChange={(price) => { setRoom((r) => ({ ...r, basePrice: parseInt(price) | 0 })) }}\r\n                                >\r\n                                    <NumberInputField variant=\"filled\" required />\r\n                                </NumberInput>\r\n                            </FormControl>\r\n                            <FormControl isRequired id=\"prop-price-cleaning\">\r\n                                <FormLabel opacity={room.cleaningFee === 0 ? 0.4 : 1} as=\"h2\" fontSize=\"md\">Cleaning fee</FormLabel>\r\n                                <NumberInput value={room.cleaningFee}\r\n                                    onChange={(price) => { setRoom((r) => ({ ...r, cleaningFee: parseInt(price) | 0 })) }}\r\n                                >\r\n                                    <NumberInputField variant=\"filled\" required />\r\n                                </NumberInput>\r\n                            </FormControl>\r\n                            <FormControl isRequired id=\"prop-price-service\">\r\n                                <FormLabel opacity={room.serviceFee === 0 ? 0.4 : 1} as=\"h2\" fontSize=\"md\">Service fee</FormLabel>\r\n                                <NumberInput value={room.serviceFee}\r\n                                    onChange={(price) => { setRoom((r) => ({ ...r, serviceFee: parseInt(price) | 0 })) }}\r\n                                >\r\n                                    <NumberInputField variant=\"filled\" required />\r\n                                </NumberInput>\r\n                            </FormControl>\r\n                        </VStack>\r\n                    </Box>\r\n\r\n                    <Box>\r\n                        <Link as={RouterLink} to=\"/room/preview\" _hover={{ textStyle: \"none\" }} target=\"_blank\" onClick={() => localStorage.setItem(\"previewRoom\", JSON.stringify(room))}>\r\n                            <Button variant=\"solid\" mr=\"10\" colorScheme=\"green\">\r\n                                See a preview\r\n                            </Button>\r\n                        </Link>\r\n\r\n                        <Button variant=\"solid\" type=\"submit\" colorScheme=\"blue\" onClick={(e) => handlePublish(e)}>\r\n                            Confirm\r\n                        </Button>\r\n                    </Box>\r\n                </VStack>\r\n            </Box>\r\n        </chakra.form>\r\n    );\r\n}\r\n\r\ninterface ServiceDisplayProps {\r\n    name: string;\r\n    id?: string;\r\n    isOn: boolean;\r\n    toggle: (checked: boolean) => void;\r\n}\r\n\r\nconst ServiceDisplay: React.FC<ServiceDisplayProps & SwitchProps> = (props) =>\r\n    <FormControl display=\"flex\" alignItems=\"center\" justifyContent=\"space-between\" pr=\"2\">\r\n        <FormLabel htmlFor={\"service_\" + props.name} mb=\"0\" opacity={props.isOn ? 1 : 0.4}>\r\n            {props.name}\r\n        </FormLabel>\r\n        <Switch id={\"service_\" + props.name} isChecked={props.isOn}\r\n            {...props}\r\n            onChange={(e) => { props.toggle(e.target.checked) }} />\r\n    </FormControl>\r\n\r\nexport default PublishRoomPage;","E:\\Repos\\hostel-chakra\\Hostel\\src\\API.ts",["319","320","321"],"import axios, { AxiosResponse } from \"axios\";\r\n\r\n// export const API_URL = \"http://localhost:44344\";\r\nexport const API_URL = process.env.NODE_ENV === \"development\" ? \"http://localhost:44344\" : \"https://nicehostel.herokuapp.com\";\r\nconst API_IMAGE_UPLOADER_URL = \"https://api.imgur.com/3/upload\";\r\nconst API_IMAGE_CLIENT_ID = \"30ca2ca5dd1f71d\";\r\n// const API_IMAGE_CLIENT_SECRET = \"5e497c2ba20ff36c20aa512366ddee25300c56e1\";\r\n\r\nexport const axAuth = axios.create();\r\n\r\naxAuth.interceptors.request.use((config) => {\r\n    const token = localStorage.getItem(\"token\");\r\n    config.headers.Authorization = `Bearer ${token}`;\r\n\r\n    return config;\r\n})\r\n\r\naxAuth.interceptors.response.use((response) => {\r\n    return response;\r\n}, function (error) {\r\n    if (error.response.status === 401) {\r\n        console.log('unauthorized, logging out ...');\r\n        localStorage.removeItem(\"token\");\r\n    }\r\n    // else if(error.response.status === 404){\r\n    //     return Promise.reject(\"Connection error\")\r\n    // }\r\n    return Promise.reject(error.response);\r\n});\r\n\r\n// axios.interceptors.request.use((req) => {\r\n//     req.headers.Authorization = `Client-ID : ${API_IMAGE_CLIENT_ID}`\r\n//     return req;\r\n// })\r\n\r\ntype ReviewRequest = {\r\n    comment?: string;\r\n    reviewStar: number;\r\n    \r\n}\r\nexport const postReview = () => {\r\n\r\n}\r\n\r\nexport const postRoom = (data: PublishRoomState) => {\r\n    return axAuth({\r\n        method: \"POST\",\r\n        url: API_URL + \"/api/properties/\",\r\n        data: data,\r\n    })\r\n}\r\n\r\nexport const postImage = (data : any) => axAuth({\r\n    method: \"post\",\r\n    url: API_IMAGE_UPLOADER_URL,\r\n    data: data,\r\n    headers: {\r\n        'Content-Type' : 'multipart/form-data',\r\n    },\r\n})\r\n\r\nexport const postReservation = (bookInfo: BookingInfo) => axAuth({\r\n    url: API_URL + \"/api/reservations\",\r\n    method: \"POST\",\r\n    data: JSON.stringify({\r\n        \"propertyId\": bookInfo.roomId,\r\n        \"fromDate\" : bookInfo.bookFromDate,\r\n        \"toDate\" : bookInfo.bookToDate,\r\n        \"adultNum\": bookInfo.guest,\r\n        \"childrenNum\" : bookInfo.children\r\n    }),        \r\n    headers: {\r\n        'Content-Type': \"application/json\"\r\n    }\r\n});\r\n\r\nexport const deleteImage = (delHash: string) => axAuth({\r\n    method: \"DELETE\",\r\n    url: `https://api.imgur.com/3/image/${delHash}`,\r\n})\r\n\r\nexport const authenticate = (req: LoginRequest) => {\r\n    return axAuth.post<UserResponse>(API_URL + \"/api/user/authenticate\", {\r\n            \"email\": req.email,\r\n            \"password\": req.password\r\n        });\r\n}\r\n\r\nexport const registerHost = () => axAuth.post<UserResponse>(API_URL + \"/api/user/register-host\");\r\n\r\nexport const register = (req: RegisterRequest) =>{\r\n    return axios.post<UserResponse>(API_URL + \"/api/user/register-user\", {\r\n        \"email\": req.email,\r\n        \"password\": req.password,\r\n        \"confirmPassword\": req.confirmPassword\r\n    })\r\n}\r\n\r\nexport const fetchPropertiesView = async (typeId: string | undefined, query: SearchQuery) => {\r\n    await new Promise(resolve => setTimeout(resolve, 500));\r\n    let URI = `/api/properties`;\r\n    console.log(query);\r\n    return axios.get<RoomCard[]>(API_URL + URI,{\r\n        params: {\r\n            typeId : typeId,\r\n            city: query.city,\r\n            from: query.from,\r\n            to: query.to,\r\n            guestNum : query.guestNum,\r\n            childrenNum: query.childrenNum,\r\n        }\r\n    });\r\n}\r\n\r\nexport const fetchCities = async () => {\r\n    // const res = await ax({\r\n    //     method: \"GET\",\r\n    //     url: URL + \"api/city\",\r\n    //     timeout: 5000\r\n    // });\r\n    // return res;\r\n    const res = await fetch(API_URL + \"/api/cities\");\r\n    const data = res.json();\r\n    return data;\r\n}\r\n\r\nexport const fetchPropertyTypes = async () => {\r\n    const res = await fetch(API_URL + \"/api/propertytypes\");\r\n    const data: PropertyTypeType[] = await res.json();\r\n    return data;\r\n}\r\n\r\nexport const fetchPropertyById = async (id: string) => {\r\n    return axAuth.get<Room>(API_URL + \"/api/properties/\" + id);\r\n}\r\n\r\nexport const fetchPropertiesSaved = () => {\r\n    return axAuth.get<RoomCard[]>(API_URL + \"/api/properties/saved\");\r\n}\r\n\r\nexport const fetchUserReservation = async () => {\r\n    return axAuth.get<ReservationResponse[]>(API_URL + \"/api/reservations/user\");\r\n}\r\n\r\nexport const fetchPricing = (bookInfo: BookingInfo) => {\r\n    console.log(bookInfo);\r\n    return axios.get<CheckPricingResponse>(API_URL + \"/api/reservations/check-pricing\",{\r\n        params: {\r\n            fromDate: bookInfo.bookFromDate,\r\n            toDate: bookInfo.bookToDate,\r\n            propertyId: bookInfo.roomId,\r\n            guestNum: bookInfo.guest,\r\n            childrenNum: bookInfo.children\r\n        }\r\n    })\r\n}\r\n\r\ninterface ToggleLikeProps {\r\n    roomId: string,\r\n    token: string,\r\n}\r\n\r\ntype ToggleLikeResponse = {\r\n    liked: boolean\r\n}\r\n\r\nexport const toggleLike = ({roomId, token}: ToggleLikeProps) => {\r\n    return axAuth.post<ToggleLikeResponse>(`${API_URL}/api/likes/${roomId}`,{},{\r\n        headers:{\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    });\r\n}\r\n\r\nexport const validateToken = (token: string) => {\r\n    return fetch(`${API_URL}/api/user/validate-token`, {\r\n        headers: {\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    })\r\n}","E:\\Repos\\hostel-chakra\\Hostel\\src\\Pages\\PreviewRoomPage.tsx",[],"E:\\Repos\\hostel-chakra\\Hostel\\src\\Pages\\RegisterHostPage.tsx",[],"E:\\Repos\\hostel-chakra\\Hostel\\src\\Components\\ReservationForm.tsx",[],{"ruleId":"322","replacedBy":"323"},{"ruleId":"324","replacedBy":"325"},{"ruleId":"322","replacedBy":"326"},{"ruleId":"324","replacedBy":"327"},{"ruleId":"328","severity":1,"message":"329","line":7,"column":37,"nodeType":"330","messageId":"331","endLine":7,"endColumn":50},{"ruleId":"328","severity":1,"message":"332","line":7,"column":87,"nodeType":"330","messageId":"331","endLine":7,"endColumn":97},{"ruleId":"328","severity":1,"message":"333","line":13,"column":10,"nodeType":"330","messageId":"331","endLine":13,"endColumn":14},{"ruleId":"328","severity":1,"message":"334","line":1,"column":63,"nodeType":"330","messageId":"331","endLine":1,"endColumn":70},{"ruleId":"328","severity":1,"message":"335","line":1,"column":72,"nodeType":"330","messageId":"331","endLine":1,"endColumn":86},{"ruleId":"328","severity":1,"message":"336","line":1,"column":88,"nodeType":"330","messageId":"331","endLine":1,"endColumn":102},{"ruleId":"328","severity":1,"message":"337","line":1,"column":144,"nodeType":"330","messageId":"331","endLine":1,"endColumn":157},{"ruleId":"328","severity":1,"message":"338","line":1,"column":159,"nodeType":"330","messageId":"331","endLine":1,"endColumn":167},{"ruleId":"328","severity":1,"message":"339","line":1,"column":169,"nodeType":"330","messageId":"331","endLine":1,"endColumn":176},{"ruleId":"328","severity":1,"message":"340","line":1,"column":178,"nodeType":"330","messageId":"331","endLine":1,"endColumn":185},{"ruleId":"328","severity":1,"message":"341","line":6,"column":10,"nodeType":"330","messageId":"331","endLine":6,"endColumn":22},{"ruleId":"328","severity":1,"message":"342","line":7,"column":24,"nodeType":"330","messageId":"331","endLine":7,"endColumn":39},{"ruleId":"328","severity":1,"message":"343","line":8,"column":8,"nodeType":"330","messageId":"331","endLine":8,"endColumn":17},{"ruleId":"328","severity":1,"message":"344","line":38,"column":19,"nodeType":"330","messageId":"331","endLine":38,"endColumn":26},{"ruleId":"328","severity":1,"message":"345","line":38,"column":28,"nodeType":"330","messageId":"331","endLine":38,"endColumn":33},{"ruleId":"328","severity":1,"message":"346","line":38,"column":35,"nodeType":"330","messageId":"331","endLine":38,"endColumn":44},{"ruleId":"328","severity":1,"message":"347","line":1,"column":58,"nodeType":"330","messageId":"331","endLine":1,"endColumn":61},{"ruleId":"328","severity":1,"message":"348","line":1,"column":15,"nodeType":"330","messageId":"331","endLine":1,"endColumn":31},{"ruleId":"328","severity":1,"message":"349","line":1,"column":33,"nodeType":"330","messageId":"331","endLine":1,"endColumn":40},{"ruleId":"328","severity":1,"message":"350","line":1,"column":50,"nodeType":"330","messageId":"331","endLine":1,"endColumn":64},{"ruleId":"328","severity":1,"message":"351","line":1,"column":66,"nodeType":"330","messageId":"331","endLine":1,"endColumn":88},{"ruleId":"328","severity":1,"message":"352","line":1,"column":90,"nodeType":"330","messageId":"331","endLine":1,"endColumn":112},{"ruleId":"328","severity":1,"message":"353","line":1,"column":114,"nodeType":"330","messageId":"331","endLine":1,"endColumn":125},{"ruleId":"328","severity":1,"message":"354","line":1,"column":127,"nodeType":"330","messageId":"331","endLine":1,"endColumn":143},{"ruleId":"328","severity":1,"message":"355","line":1,"column":145,"nodeType":"330","messageId":"331","endLine":1,"endColumn":163},{"ruleId":"328","severity":1,"message":"356","line":1,"column":165,"nodeType":"330","messageId":"331","endLine":1,"endColumn":171},{"ruleId":"328","severity":1,"message":"357","line":1,"column":173,"nodeType":"330","messageId":"331","endLine":1,"endColumn":179},{"ruleId":"328","severity":1,"message":"358","line":1,"column":181,"nodeType":"330","messageId":"331","endLine":1,"endColumn":198},{"ruleId":"328","severity":1,"message":"359","line":1,"column":200,"nodeType":"330","messageId":"331","endLine":1,"endColumn":211},{"ruleId":"328","severity":1,"message":"360","line":1,"column":213,"nodeType":"330","messageId":"331","endLine":1,"endColumn":224},{"ruleId":"328","severity":1,"message":"361","line":8,"column":10,"nodeType":"330","messageId":"331","endLine":8,"endColumn":21},{"ruleId":"328","severity":1,"message":"362","line":17,"column":11,"nodeType":"330","messageId":"331","endLine":17,"endColumn":19},{"ruleId":"363","severity":1,"message":"364","line":36,"column":8,"nodeType":"365","endLine":36,"endColumn":10,"suggestions":"366"},{"ruleId":"328","severity":1,"message":"367","line":1,"column":15,"nodeType":"330","messageId":"331","endLine":1,"endColumn":19},{"ruleId":"328","severity":1,"message":"368","line":1,"column":21,"nodeType":"330","messageId":"331","endLine":1,"endColumn":25},{"ruleId":"328","severity":1,"message":"369","line":1,"column":47,"nodeType":"330","messageId":"331","endLine":1,"endColumn":53},{"ruleId":"328","severity":1,"message":"370","line":1,"column":79,"nodeType":"330","messageId":"331","endLine":1,"endColumn":85},{"ruleId":"328","severity":1,"message":"371","line":3,"column":10,"nodeType":"330","messageId":"331","endLine":3,"endColumn":14},{"ruleId":"328","severity":1,"message":"372","line":7,"column":10,"nodeType":"330","messageId":"331","endLine":7,"endColumn":17},{"ruleId":"328","severity":1,"message":"373","line":1,"column":23,"nodeType":"330","messageId":"331","endLine":1,"endColumn":29},{"ruleId":"328","severity":1,"message":"374","line":2,"column":8,"nodeType":"330","messageId":"331","endLine":2,"endColumn":13},{"ruleId":"328","severity":1,"message":"375","line":6,"column":10,"nodeType":"330","messageId":"331","endLine":6,"endColumn":18},{"ruleId":"328","severity":1,"message":"376","line":26,"column":7,"nodeType":"330","messageId":"331","endLine":26,"endColumn":32},{"ruleId":"328","severity":1,"message":"377","line":33,"column":38,"nodeType":"330","messageId":"331","endLine":33,"endColumn":44},{"ruleId":"363","severity":1,"message":"378","line":45,"column":8,"nodeType":"365","endLine":45,"endColumn":14,"suggestions":"379"},{"ruleId":"328","severity":1,"message":"380","line":2,"column":41,"nodeType":"330","messageId":"331","endLine":2,"endColumn":49},{"ruleId":"328","severity":1,"message":"381","line":17,"column":13,"nodeType":"330","messageId":"331","endLine":17,"endColumn":21},{"ruleId":"328","severity":1,"message":"382","line":18,"column":11,"nodeType":"330","messageId":"331","endLine":18,"endColumn":30},{"ruleId":"328","severity":1,"message":"383","line":19,"column":11,"nodeType":"330","messageId":"331","endLine":19,"endColumn":28},{"ruleId":"328","severity":1,"message":"384","line":39,"column":7,"nodeType":"330","messageId":"331","endLine":39,"endColumn":36},{"ruleId":"328","severity":1,"message":"385","line":46,"column":7,"nodeType":"330","messageId":"331","endLine":46,"endColumn":10},{"ruleId":"328","severity":1,"message":"373","line":1,"column":23,"nodeType":"330","messageId":"331","endLine":1,"endColumn":29},{"ruleId":"328","severity":1,"message":"386","line":1,"column":37,"nodeType":"330","messageId":"331","endLine":1,"endColumn":54},{"ruleId":"328","severity":1,"message":"387","line":7,"column":7,"nodeType":"330","messageId":"331","endLine":7,"endColumn":12},{"ruleId":"328","severity":1,"message":"388","line":18,"column":7,"nodeType":"330","messageId":"331","endLine":18,"endColumn":41},{"ruleId":"389","severity":1,"message":"390","line":116,"column":24,"nodeType":"391","messageId":"392","endLine":116,"endColumn":26},{"ruleId":"389","severity":1,"message":"390","line":116,"column":36,"nodeType":"391","messageId":"392","endLine":116,"endColumn":38},{"ruleId":"328","severity":1,"message":"369","line":1,"column":35,"nodeType":"330","messageId":"331","endLine":1,"endColumn":41},{"ruleId":"328","severity":1,"message":"393","line":1,"column":59,"nodeType":"330","messageId":"331","endLine":1,"endColumn":71},{"ruleId":"322","replacedBy":"394"},{"ruleId":"324","replacedBy":"395"},{"ruleId":"328","severity":1,"message":"396","line":1,"column":29,"nodeType":"330","messageId":"331","endLine":1,"endColumn":40},{"ruleId":"328","severity":1,"message":"397","line":1,"column":42,"nodeType":"330","messageId":"331","endLine":1,"endColumn":46},{"ruleId":"328","severity":1,"message":"373","line":1,"column":91,"nodeType":"330","messageId":"331","endLine":1,"endColumn":97},{"ruleId":"328","severity":1,"message":"373","line":1,"column":37,"nodeType":"330","messageId":"331","endLine":1,"endColumn":43},{"ruleId":"328","severity":1,"message":"333","line":13,"column":10,"nodeType":"330","messageId":"331","endLine":13,"endColumn":14},{"ruleId":"328","severity":1,"message":"380","line":4,"column":15,"nodeType":"330","messageId":"331","endLine":4,"endColumn":23},{"ruleId":"328","severity":1,"message":"398","line":2,"column":10,"nodeType":"330","messageId":"331","endLine":2,"endColumn":18},{"ruleId":"328","severity":1,"message":"399","line":9,"column":8,"nodeType":"330","messageId":"331","endLine":9,"endColumn":17},{"ruleId":"328","severity":1,"message":"400","line":22,"column":6,"nodeType":"330","messageId":"331","endLine":22,"endColumn":21},{"ruleId":"328","severity":1,"message":"401","line":41,"column":7,"nodeType":"330","messageId":"331","endLine":41,"endColumn":18},{"ruleId":"328","severity":1,"message":"402","line":45,"column":13,"nodeType":"330","messageId":"331","endLine":45,"endColumn":17},{"ruleId":"328","severity":1,"message":"373","line":1,"column":23,"nodeType":"330","messageId":"331","endLine":1,"endColumn":29},{"ruleId":"328","severity":1,"message":"369","line":1,"column":35,"nodeType":"330","messageId":"331","endLine":1,"endColumn":41},{"ruleId":"328","severity":1,"message":"393","line":1,"column":59,"nodeType":"330","messageId":"331","endLine":1,"endColumn":71},{"ruleId":"328","severity":1,"message":"367","line":1,"column":10,"nodeType":"330","messageId":"331","endLine":1,"endColumn":14},{"ruleId":"328","severity":1,"message":"368","line":1,"column":16,"nodeType":"330","messageId":"331","endLine":1,"endColumn":20},{"ruleId":"328","severity":1,"message":"369","line":1,"column":22,"nodeType":"330","messageId":"331","endLine":1,"endColumn":28},{"ruleId":"328","severity":1,"message":"373","line":1,"column":37,"nodeType":"330","messageId":"331","endLine":1,"endColumn":43},{"ruleId":"328","severity":1,"message":"403","line":6,"column":7,"nodeType":"330","messageId":"331","endLine":6,"endColumn":32},{"ruleId":"322","replacedBy":"404"},{"ruleId":"324","replacedBy":"405"},{"ruleId":"328","severity":1,"message":"406","line":77,"column":7,"nodeType":"330","messageId":"331","endLine":77,"endColumn":19},{"ruleId":"328","severity":1,"message":"407","line":30,"column":11,"nodeType":"330","messageId":"331","endLine":30,"endColumn":22},{"ruleId":"363","severity":1,"message":"408","line":46,"column":8,"nodeType":"365","endLine":46,"endColumn":10,"suggestions":"409"},{"ruleId":"328","severity":1,"message":"347","line":1,"column":10,"nodeType":"330","messageId":"331","endLine":1,"endColumn":13},{"ruleId":"328","severity":1,"message":"337","line":1,"column":90,"nodeType":"330","messageId":"331","endLine":1,"endColumn":103},{"ruleId":"410","severity":1,"message":"411","line":23,"column":38,"nodeType":"412","messageId":"413","endLine":23,"endColumn":39,"suggestions":"414"},{"ruleId":"410","severity":1,"message":"411","line":23,"column":63,"nodeType":"412","messageId":"413","endLine":23,"endColumn":64,"suggestions":"415"},{"ruleId":"410","severity":1,"message":"411","line":23,"column":72,"nodeType":"412","messageId":"413","endLine":23,"endColumn":73,"suggestions":"416"},{"ruleId":"410","severity":1,"message":"411","line":23,"column":76,"nodeType":"412","messageId":"413","endLine":23,"endColumn":77,"suggestions":"417"},{"ruleId":"328","severity":1,"message":"418","line":4,"column":19,"nodeType":"330","messageId":"331","endLine":4,"endColumn":25},{"ruleId":"328","severity":1,"message":"419","line":7,"column":54,"nodeType":"330","messageId":"331","endLine":7,"endColumn":64},{"ruleId":"328","severity":1,"message":"345","line":105,"column":19,"nodeType":"330","messageId":"331","endLine":105,"endColumn":24},{"ruleId":"328","severity":1,"message":"384","line":207,"column":7,"nodeType":"330","messageId":"331","endLine":207,"endColumn":36},{"ruleId":"328","severity":1,"message":"346","line":79,"column":30,"nodeType":"330","messageId":"331","endLine":79,"endColumn":39},{"ruleId":"328","severity":1,"message":"377","line":79,"column":41,"nodeType":"330","messageId":"331","endLine":79,"endColumn":47},{"ruleId":"328","severity":1,"message":"344","line":87,"column":29,"nodeType":"330","messageId":"331","endLine":87,"endColumn":36},{"ruleId":"328","severity":1,"message":"420","line":1,"column":17,"nodeType":"330","messageId":"331","endLine":1,"endColumn":30},{"ruleId":"328","severity":1,"message":"421","line":6,"column":7,"nodeType":"330","messageId":"331","endLine":6,"endColumn":26},{"ruleId":"328","severity":1,"message":"422","line":36,"column":6,"nodeType":"330","messageId":"331","endLine":36,"endColumn":19},"no-native-reassign",["423"],"no-negated-in-lhs",["424"],["423"],["424"],"@typescript-eslint/no-unused-vars","'BrowserRouter' is defined but never used.","Identifier","unusedVar","'useHistory' is defined but never used.","'mode' is defined but never used.","'Popover' is defined but never used.","'PopoverContent' is defined but never used.","'PopoverTrigger' is defined but never used.","'useDisclosure' is defined but never used.","'Collapse' is defined but never used.","'Tooltip' is defined but never used.","'Spinner' is defined but never used.","'fetchPricing' is defined but never used.","'getDatesBetween' is defined but never used.","'PopDetail' is defined but never used.","'isError' is assigned a value but never used.","'error' is assigned a value but never used.","'isLoading' is assigned a value but never used.","'Box' is defined but never used.","'CircularProgress' is defined but never used.","'Divider' is defined but never used.","'InputLeftAddon' is defined but never used.","'NumberDecrementStepper' is defined but never used.","'NumberIncrementStepper' is defined but never used.","'NumberInput' is defined but never used.","'NumberInputField' is defined but never used.","'NumberInputStepper' is defined but never used.","'Portal' is defined but never used.","'Slider' is defined but never used.","'SliderFilledTrack' is defined but never used.","'SliderThumb' is defined but never used.","'SliderTrack' is defined but never used.","'MdGraphicEq' is defined but never used.","'queryStr' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook React.useEffect has a missing dependency: 'location.state'. Either include it or remove the dependency array.","ArrayExpression",["425"],"'Flex' is defined but never used.","'Grid' is defined but never used.","'Spacer' is defined but never used.","'Button' is defined but never used.","'Link' is defined but never used.","'isError' is defined but never used.","'Center' is defined but never used.","'axios' is defined but never used.","'Redirect' is defined but never used.","'defaultValue' is assigned a value but never used.","'status' is assigned a value but never used.","React Hook React.useEffect has a missing dependency: 'props'. Either include it or remove the dependency array. However, 'props' will change when *any* prop changes, so the preferred fix is to destructure the 'props' object outside of the useEffect call and refer to those specific props inside React.useEffect.",["426"],"'DarkMode' is defined but never used.","'pathname' is assigned a value but never used.","'bgColorMenuWhenHome' is assigned a value but never used.","'colorMenuWhenHome' is assigned a value but never used.","'defaultRooms' is assigned a value but never used.","'str' is assigned a value but never used.","'useColorModeValue' is defined but never used.","'today' is assigned a value but never used.","'defaultSchedules' is assigned a value but never used.","no-mixed-operators","Unexpected mix of '&&' and '||'.","LogicalExpression","unexpectedMixedOperator","'StackDivider' is defined but never used.",["423"],["424"],"'LinkOverlay' is defined but never used.","'Text' is defined but never used.","'userInfo' is defined but never used.","'SearchBar' is defined but never used.","'SingleRoomProps' is defined but never used.","'GetRoomById' is assigned a value but never used.","'slug' is assigned a value but never used.","'defaultRoom' is assigned a value but never used.",["423"],["424"],"'fetchPincode' is assigned a value but never used.","'queryClient' is assigned a value but never used.","React Hook React.useEffect has a missing dependency: 'logoutAsync'. Either include it or remove the dependency array.",["427"],"no-useless-escape","Unnecessary escape character: \\\".","Literal","unnecessaryEscape",["428","429"],["430","431"],["432","433"],["434","435"],"'FaStar' is defined but never used.","'toggleLike' is defined but never used.","'AxiosResponse' is defined but never used.","'API_IMAGE_CLIENT_ID' is assigned a value but never used.","'ReviewRequest' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"436","fix":"437"},{"desc":"438","fix":"439"},{"desc":"440","fix":"441"},{"messageId":"442","fix":"443","desc":"444"},{"messageId":"445","fix":"446","desc":"447"},{"messageId":"442","fix":"448","desc":"444"},{"messageId":"445","fix":"449","desc":"447"},{"messageId":"442","fix":"450","desc":"444"},{"messageId":"445","fix":"451","desc":"447"},{"messageId":"442","fix":"452","desc":"444"},{"messageId":"445","fix":"453","desc":"447"},"Update the dependencies array to be: [location.state]",{"range":"454","text":"455"},"Update the dependencies array to be: [form, props]",{"range":"456","text":"457"},"Update the dependencies array to be: [logoutAsync]",{"range":"458","text":"459"},"removeEscape",{"range":"460","text":"461"},"Remove the `\\`. This maintains the current functionality.","escapeBackslash",{"range":"462","text":"463"},"Replace the `\\` with `\\\\` to include the actual backslash character.",{"range":"464","text":"461"},{"range":"465","text":"463"},{"range":"466","text":"461"},{"range":"467","text":"463"},{"range":"468","text":"461"},{"range":"469","text":"463"},[1533,1535],"[location.state]",[1382,1388],"[form, props]",[1578,1580],"[logoutAsync]",[727,728],"",[727,727],"\\",[752,753],[752,752],[761,762],[761,761],[765,766],[765,765]]